(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ti(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ce={},Es=[],pt=()=>{},oc=()=>!1,Wr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),si=e=>e.startsWith("onUpdate:"),Oe=Object.assign,ri=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ac=Object.prototype.hasOwnProperty,ie=(e,t)=>ac.call(e,t),V=Array.isArray,$s=e=>gr(e)==="[object Map]",Ms=e=>gr(e)==="[object Set]",ji=e=>gr(e)==="[object Date]",W=e=>typeof e=="function",_e=e=>typeof e=="string",mt=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",la=e=>(de(e)||W(e))&&W(e.then)&&W(e.catch),ca=Object.prototype.toString,gr=e=>ca.call(e),lc=e=>gr(e).slice(8,-1),ua=e=>gr(e)==="[object Object]",ni=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gs=ti(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},cc=/-(\w)/g,tt=Jr(e=>e.replace(cc,(t,s)=>s?s.toUpperCase():"")),uc=/\B([A-Z])/g,as=Jr(e=>e.replace(uc,"-$1").toLowerCase()),Yr=Jr(e=>e.charAt(0).toUpperCase()+e.slice(1)),dn=Jr(e=>e?`on${Yr(e)}`:""),Ft=(e,t)=>!Object.is(e,t),jr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},da=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},Ur=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ii;const Qr=()=>Ii||(Ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ct(e){if(V(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=_e(r)?pc(r):Ct(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(_e(e)||de(e))return e}const dc=/;(?![^(]*\))/g,fc=/:([^]+)/,hc=/\/\*[^]*?\*\//g;function pc(e){const t={};return e.replace(hc,"").split(dc).forEach(s=>{if(s){const r=s.split(fc);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ae(e){let t="";if(_e(e))t=e;else if(V(e))for(let s=0;s<e.length;s++){const r=ae(e[s]);r&&(t+=r+" ")}else if(de(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const gc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mc=ti(gc);function fa(e){return!!e||e===""}function vc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=rs(e[r],t[r]);return s}function rs(e,t){if(e===t)return!0;let s=ji(e),r=ji(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=mt(e),r=mt(t),s||r)return e===t;if(s=V(e),r=V(t),s||r)return s&&r?vc(e,t):!1;if(s=de(e),r=de(t),s||r){if(!s||!r)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!rs(e[o],t[o]))return!1}}return String(e)===String(t)}function ii(e,t){return e.findIndex(s=>rs(s,t))}const ha=e=>!!(e&&e.__v_isRef===!0),D=e=>_e(e)?e:e==null?"":V(e)||de(e)&&(e.toString===ca||!W(e.toString))?ha(e)?D(e.value):JSON.stringify(e,pa,2):String(e),pa=(e,t)=>ha(t)?pa(e,t.value):$s(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[fn(r,i)+" =>"]=n,s),{})}:Ms(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>fn(s))}:mt(t)?fn(t):de(t)&&!V(t)&&!ua(t)?String(t):t,fn=(e,t="")=>{var s;return mt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ie;class ga{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ie,!t&&Ie&&(this.index=(Ie.scopes||(Ie.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ie;try{return Ie=this,t()}finally{Ie=s}}}on(){Ie=this}off(){Ie=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ma(e){return new ga(e)}function va(){return Ie}function yc(e,t=!1){Ie&&Ie.cleanups.push(e)}let pe;const hn=new WeakSet;class ya{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ie&&Ie.active&&Ie.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hn.has(this)&&(hn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Mi(this),_a(this);const t=pe,s=nt;pe=this,nt=!0;try{return this.fn()}finally{xa(this),pe=t,nt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)li(t);this.deps=this.depsTail=void 0,Mi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){On(this)&&this.run()}get dirty(){return On(this)}}let ba=0,Ks,Ws;function wa(e,t=!1){if(e.flags|=8,t){e.next=Ws,Ws=e;return}e.next=Ks,Ks=e}function oi(){ba++}function ai(){if(--ba>0)return;if(Ws){let t=Ws;for(Ws=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ks;){let t=Ks;for(Ks=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function _a(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xa(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),li(r),bc(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function On(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Sa(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Sa(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ir))return;e.globalVersion=ir;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!On(e)){e.flags&=-3;return}const s=pe,r=nt;pe=e,nt=!0;try{_a(e);const n=e.fn(e._value);(t.version===0||Ft(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{pe=s,nt=r,xa(e),e.flags&=-3}}function li(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)li(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function bc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let nt=!0;const ka=[];function Vt(){ka.push(nt),nt=!1}function qt(){const e=ka.pop();nt=e===void 0?!0:e}function Mi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=pe;pe=void 0;try{t()}finally{pe=s}}}let ir=0;class wc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ci{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!pe||!nt||pe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==pe)s=this.activeLink=new wc(pe,this),pe.deps?(s.prevDep=pe.depsTail,pe.depsTail.nextDep=s,pe.depsTail=s):pe.deps=pe.depsTail=s,Ea(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=pe.depsTail,s.nextDep=void 0,pe.depsTail.nextDep=s,pe.depsTail=s,pe.deps===s&&(pe.deps=r)}return s}trigger(t){this.version++,ir++,this.notify(t)}notify(t){oi();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ai()}}}function Ea(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Ea(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Dr=new WeakMap,ts=Symbol(""),Rn=Symbol(""),or=Symbol("");function Te(e,t,s){if(nt&&pe){let r=Dr.get(e);r||Dr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new ci),n.map=r,n.key=s),n.track()}}function St(e,t,s,r,n,i){const o=Dr.get(e);if(!o){ir++;return}const a=l=>{l&&l.trigger()};if(oi(),t==="clear")o.forEach(a);else{const l=V(e),c=l&&ni(s);if(l&&s==="length"){const u=Number(r);o.forEach((f,p)=>{(p==="length"||p===or||!mt(p)&&p>=u)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(or)),t){case"add":l?c&&a(o.get("length")):(a(o.get(ts)),$s(e)&&a(o.get(Rn)));break;case"delete":l||(a(o.get(ts)),$s(e)&&a(o.get(Rn)));break;case"set":$s(e)&&a(o.get(ts));break}}ai()}function _c(e,t){const s=Dr.get(e);return s&&s.get(t)}function fs(e){const t=se(e);return t===e?t:(Te(t,"iterate",or),Ze(e)?t:t.map(Pe))}function Xr(e){return Te(e=se(e),"iterate",or),e}const xc={__proto__:null,[Symbol.iterator](){return pn(this,Symbol.iterator,Pe)},concat(...e){return fs(this).concat(...e.map(t=>V(t)?fs(t):t))},entries(){return pn(this,"entries",e=>(e[1]=Pe(e[1]),e))},every(e,t){return bt(this,"every",e,t,void 0,arguments)},filter(e,t){return bt(this,"filter",e,t,s=>s.map(Pe),arguments)},find(e,t){return bt(this,"find",e,t,Pe,arguments)},findIndex(e,t){return bt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return bt(this,"findLast",e,t,Pe,arguments)},findLastIndex(e,t){return bt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return bt(this,"forEach",e,t,void 0,arguments)},includes(...e){return gn(this,"includes",e)},indexOf(...e){return gn(this,"indexOf",e)},join(e){return fs(this).join(e)},lastIndexOf(...e){return gn(this,"lastIndexOf",e)},map(e,t){return bt(this,"map",e,t,void 0,arguments)},pop(){return Bs(this,"pop")},push(...e){return Bs(this,"push",e)},reduce(e,...t){return Li(this,"reduce",e,t)},reduceRight(e,...t){return Li(this,"reduceRight",e,t)},shift(){return Bs(this,"shift")},some(e,t){return bt(this,"some",e,t,void 0,arguments)},splice(...e){return Bs(this,"splice",e)},toReversed(){return fs(this).toReversed()},toSorted(e){return fs(this).toSorted(e)},toSpliced(...e){return fs(this).toSpliced(...e)},unshift(...e){return Bs(this,"unshift",e)},values(){return pn(this,"values",Pe)}};function pn(e,t,s){const r=Xr(e),n=r[t]();return r!==e&&!Ze(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Sc=Array.prototype;function bt(e,t,s,r,n,i){const o=Xr(e),a=o!==e&&!Ze(e),l=o[t];if(l!==Sc[t]){const f=l.apply(e,i);return a?Pe(f):f}let c=s;o!==e&&(a?c=function(f,p){return s.call(this,Pe(f),p,e)}:s.length>2&&(c=function(f,p){return s.call(this,f,p,e)}));const u=l.call(o,c,r);return a&&n?n(u):u}function Li(e,t,s,r){const n=Xr(e);let i=s;return n!==e&&(Ze(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Pe(a),l,e)}),n[t](i,...r)}function gn(e,t,s){const r=se(e);Te(r,"iterate",or);const n=r[t](...s);return(n===-1||n===!1)&&fi(s[0])?(s[0]=se(s[0]),r[t](...s)):n}function Bs(e,t,s=[]){Vt(),oi();const r=se(e)[t].apply(e,s);return ai(),qt(),r}const kc=ti("__proto__,__v_isRef,__isVue"),$a=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mt));function Ec(e){mt(e)||(e=String(e));const t=se(this);return Te(t,"has",e),t.hasOwnProperty(e)}class Ca{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Mc:Oa:i?Aa:Pa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=V(t);if(!n){let l;if(o&&(l=xc[s]))return l;if(s==="hasOwnProperty")return Ec}const a=Reflect.get(t,s,be(t)?t:r);return(mt(s)?$a.has(s):kc(s))||(n||Te(t,"get",s),i)?a:be(a)?o&&ni(s)?a:a.value:de(a)?n?ja(a):mr(a):a}}class Ta extends Ca{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=ns(i);if(!Ze(r)&&!ns(r)&&(i=se(i),r=se(r)),!V(t)&&be(i)&&!be(r))return l?!1:(i.value=r,!0)}const o=V(t)&&ni(s)?Number(s)<t.length:ie(t,s),a=Reflect.set(t,s,r,be(t)?t:n);return t===se(n)&&(o?Ft(r,i)&&St(t,"set",s,r):St(t,"add",s,r)),a}deleteProperty(t,s){const r=ie(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&St(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!mt(s)||!$a.has(s))&&Te(t,"has",s),r}ownKeys(t){return Te(t,"iterate",V(t)?"length":ts),Reflect.ownKeys(t)}}class $c extends Ca{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Cc=new Ta,Tc=new $c,Pc=new Ta(!0);const jn=e=>e,xr=e=>Reflect.getPrototypeOf(e);function Ac(e,t,s){return function(...r){const n=this.__v_raw,i=se(n),o=$s(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=n[e](...r),u=s?jn:t?In:Pe;return!t&&Te(i,"iterate",l?Rn:ts),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:a?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function Sr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Oc(e,t){const s={get(n){const i=this.__v_raw,o=se(i),a=se(n);e||(Ft(n,a)&&Te(o,"get",n),Te(o,"get",a));const{has:l}=xr(o),c=t?jn:e?In:Pe;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&Te(se(n),"iterate",ts),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=se(i),a=se(n);return e||(Ft(n,a)&&Te(o,"has",n),Te(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=se(a),c=t?jn:e?In:Pe;return!e&&Te(l,"iterate",ts),a.forEach((u,f)=>n.call(i,c(u),c(f),o))}};return Oe(s,e?{add:Sr("add"),set:Sr("set"),delete:Sr("delete"),clear:Sr("clear")}:{add(n){!t&&!Ze(n)&&!ns(n)&&(n=se(n));const i=se(this);return xr(i).has.call(i,n)||(i.add(n),St(i,"add",n,n)),this},set(n,i){!t&&!Ze(i)&&!ns(i)&&(i=se(i));const o=se(this),{has:a,get:l}=xr(o);let c=a.call(o,n);c||(n=se(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?Ft(i,u)&&St(o,"set",n,i):St(o,"add",n,i),this},delete(n){const i=se(this),{has:o,get:a}=xr(i);let l=o.call(i,n);l||(n=se(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&St(i,"delete",n,void 0),c},clear(){const n=se(this),i=n.size!==0,o=n.clear();return i&&St(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ac(n,e,t)}),s}function ui(e,t){const s=Oc(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(ie(s,n)&&n in r?s:r,n,i)}const Rc={get:ui(!1,!1)},jc={get:ui(!1,!0)},Ic={get:ui(!0,!1)};const Pa=new WeakMap,Aa=new WeakMap,Oa=new WeakMap,Mc=new WeakMap;function Lc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uc(e){return e.__v_skip||!Object.isExtensible(e)?0:Lc(lc(e))}function mr(e){return ns(e)?e:di(e,!1,Cc,Rc,Pa)}function Ra(e){return di(e,!1,Pc,jc,Aa)}function ja(e){return di(e,!0,Tc,Ic,Oa)}function di(e,t,s,r,n){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=Uc(e);if(o===0)return e;const a=new Proxy(e,o===2?r:s);return n.set(e,a),a}function $t(e){return ns(e)?$t(e.__v_raw):!!(e&&e.__v_isReactive)}function ns(e){return!!(e&&e.__v_isReadonly)}function Ze(e){return!!(e&&e.__v_isShallow)}function fi(e){return e?!!e.__v_raw:!1}function se(e){const t=e&&e.__v_raw;return t?se(t):e}function hi(e){return!ie(e,"__v_skip")&&Object.isExtensible(e)&&da(e,"__v_skip",!0),e}const Pe=e=>de(e)?mr(e):e,In=e=>de(e)?ja(e):e;function be(e){return e?e.__v_isRef===!0:!1}function K(e){return Ia(e,!1)}function Dc(e){return Ia(e,!0)}function Ia(e,t){return be(e)?e:new Bc(e,t)}class Bc{constructor(t,s){this.dep=new ci,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:se(t),this._value=s?t:Pe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||Ze(t)||ns(t);t=r?t:se(t),Ft(t,s)&&(this._rawValue=t,this._value=r?t:Pe(t),this.dep.trigger())}}function Ae(e){return be(e)?e.value:e}const Nc={get:(e,t,s)=>t==="__v_raw"?e:Ae(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return be(n)&&!be(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function Ma(e){return $t(e)?e:new Proxy(e,Nc)}function Fc(e){const t=V(e)?new Array(e.length):{};for(const s in e)t[s]=La(e,s);return t}class zc{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return _c(se(this._object),this._key)}}class Vc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function qc(e,t,s){return be(e)?e:W(e)?new Vc(e):de(e)&&arguments.length>1?La(e,t,s):K(e)}function La(e,t,s){const r=e[t];return be(r)?r:new zc(e,t,s)}class Hc{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new ci(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ir-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&pe!==this)return wa(this,!0),!0}get value(){const t=this.dep.track();return Sa(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Gc(e,t,s=!1){let r,n;return W(e)?r=e:(r=e.get,n=e.set),new Hc(r,n,s)}const kr={},Br=new WeakMap;let Qt;function Kc(e,t=!1,s=Qt){if(s){let r=Br.get(s);r||Br.set(s,r=[]),r.push(e)}}function Wc(e,t,s=ce){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=w=>n?w:Ze(w)||n===!1||n===0?kt(w,1):kt(w);let u,f,p,h,y=!1,b=!1;if(be(e)?(f=()=>e.value,y=Ze(e)):$t(e)?(f=()=>c(e),y=!0):V(e)?(b=!0,y=e.some(w=>$t(w)||Ze(w)),f=()=>e.map(w=>{if(be(w))return w.value;if($t(w))return c(w);if(W(w))return l?l(w,2):w()})):W(e)?t?f=l?()=>l(e,2):e:f=()=>{if(p){Vt();try{p()}finally{qt()}}const w=Qt;Qt=u;try{return l?l(e,3,[h]):e(h)}finally{Qt=w}}:f=pt,t&&n){const w=f,E=n===!0?1/0:n;f=()=>kt(w(),E)}const x=va(),S=()=>{u.stop(),x&&x.active&&ri(x.effects,u)};if(i&&t){const w=t;t=(...E)=>{w(...E),S()}}let k=b?new Array(e.length).fill(kr):kr;const m=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(t){const E=u.run();if(n||y||(b?E.some((N,te)=>Ft(N,k[te])):Ft(E,k))){p&&p();const N=Qt;Qt=u;try{const te=[E,k===kr?void 0:b&&k[0]===kr?[]:k,h];l?l(t,3,te):t(...te),k=E}finally{Qt=N}}}else u.run()};return a&&a(m),u=new ya(f),u.scheduler=o?()=>o(m,!1):m,h=w=>Kc(w,!1,u),p=u.onStop=()=>{const w=Br.get(u);if(w){if(l)l(w,4);else for(const E of w)E();Br.delete(u)}},t?r?m(!0):k=u.run():o?o(m.bind(null,!0),!0):u.run(),S.pause=u.pause.bind(u),S.resume=u.resume.bind(u),S.stop=S,S}function kt(e,t=1/0,s){if(t<=0||!de(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,be(e))kt(e.value,t,s);else if(V(e))for(let r=0;r<e.length;r++)kt(e[r],t,s);else if(Ms(e)||$s(e))e.forEach(r=>{kt(r,t,s)});else if(ua(e)){for(const r in e)kt(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&kt(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vr(e,t,s,r){try{return r?e(...r):e()}catch(n){Zr(n,t,s)}}function vt(e,t,s,r){if(W(e)){const n=vr(e,t,s,r);return n&&la(n)&&n.catch(i=>{Zr(i,t,s)}),n}if(V(e)){const n=[];for(let i=0;i<e.length;i++)n.push(vt(e[i],t,s,r));return n}}function Zr(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ce;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){Vt(),vr(i,null,10,[e,l,c]),qt();return}}Jc(e,s,n,r,o)}function Jc(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const Me=[];let ft=-1;const Cs=[];let Lt=null,xs=0;const Ua=Promise.resolve();let Nr=null;function en(e){const t=Nr||Ua;return e?t.then(this?e.bind(this):e):t}function Yc(e){let t=ft+1,s=Me.length;for(;t<s;){const r=t+s>>>1,n=Me[r],i=ar(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function pi(e){if(!(e.flags&1)){const t=ar(e),s=Me[Me.length-1];!s||!(e.flags&2)&&t>=ar(s)?Me.push(e):Me.splice(Yc(t),0,e),e.flags|=1,Da()}}function Da(){Nr||(Nr=Ua.then(Na))}function Qc(e){V(e)?Cs.push(...e):Lt&&e.id===-1?Lt.splice(xs+1,0,e):e.flags&1||(Cs.push(e),e.flags|=1),Da()}function Ui(e,t,s=ft+1){for(;s<Me.length;s++){const r=Me[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Me.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ba(e){if(Cs.length){const t=[...new Set(Cs)].sort((s,r)=>ar(s)-ar(r));if(Cs.length=0,Lt){Lt.push(...t);return}for(Lt=t,xs=0;xs<Lt.length;xs++){const s=Lt[xs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Lt=null,xs=0}}const ar=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Na(e){try{for(ft=0;ft<Me.length;ft++){const t=Me[ft];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),vr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ft<Me.length;ft++){const t=Me[ft];t&&(t.flags&=-2)}ft=-1,Me.length=0,Ba(),Nr=null,(Me.length||Cs.length)&&Na()}}let Fe=null,Fa=null;function Fr(e){const t=Fe;return Fe=e,Fa=e&&e.type.__scopeId||null,t}function zr(e,t=Fe,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Ki(-1);const i=Fr(t);let o;try{o=e(...n)}finally{Fr(i),r._d&&Ki(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function we(e,t){if(Fe===null)return e;const s=nn(Fe),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=ce]=t[n];i&&(W(i)&&(i={mounted:i,updated:i}),i.deep&&kt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Wt(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Vt(),vt(l,s,8,[e.el,a,e,t]),qt())}}const Xc=Symbol("_vte"),Zc=e=>e.__isTeleport;function gi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,gi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ce(e,t){return W(e)?Oe({name:e.name},t,{setup:e}):e}function za(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Vr(e,t,s,r,n=!1){if(V(e)){e.forEach((y,b)=>Vr(y,t&&(V(t)?t[b]:t),s,r,n));return}if(Js(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Vr(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?nn(r.component):r.el,o=n?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ce?a.refs={}:a.refs,f=a.setupState,p=se(f),h=f===ce?()=>!1:y=>ie(p,y);if(c!=null&&c!==l&&(_e(c)?(u[c]=null,h(c)&&(f[c]=null)):be(c)&&(c.value=null)),W(l))vr(l,a,12,[o,u]);else{const y=_e(l),b=be(l);if(y||b){const x=()=>{if(e.f){const S=y?h(l)?f[l]:u[l]:l.value;n?V(S)&&ri(S,i):V(S)?S.includes(i)||S.push(i):y?(u[l]=[i],h(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,h(l)&&(f[l]=o)):b&&(l.value=o,e.k&&(u[e.k]=o))};o?(x.id=-1,Ge(x,s)):x()}}}Qr().requestIdleCallback;Qr().cancelIdleCallback;const Js=e=>!!e.type.__asyncLoader,Va=e=>e.type.__isKeepAlive;function eu(e,t){qa(e,"a",t)}function tu(e,t){qa(e,"da",t)}function qa(e,t,s=$e){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(tn(t,r,s),s){let n=s.parent;for(;n&&n.parent;)Va(n.parent.vnode)&&su(r,t,s,n),n=n.parent}}function su(e,t,s,r){const n=tn(t,e,r,!0);Ga(()=>{ri(r[t],n)},s)}function tn(e,t,s=$e,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Vt();const a=br(s),l=vt(t,s,e,o);return a(),qt(),l});return r?n.unshift(i):n.push(i),i}}const Pt=e=>(t,s=$e)=>{(!ur||e==="sp")&&tn(e,(...r)=>t(...r),s)},ru=Pt("bm"),yr=Pt("m"),nu=Pt("bu"),iu=Pt("u"),Ha=Pt("bum"),Ga=Pt("um"),ou=Pt("sp"),au=Pt("rtg"),lu=Pt("rtc");function cu(e,t=$e){tn("ec",e,t)}const Ka="components";function lr(e,t){return Ja(Ka,e,!0,t)||e}const Wa=Symbol.for("v-ndc");function uu(e){return _e(e)?Ja(Ka,e,!1)||e:e||Wa}function Ja(e,t,s=!0,r=!1){const n=Fe||$e;if(n){const i=n.type;{const a=Yu(i,!1);if(a&&(a===t||a===tt(t)||a===Yr(tt(t))))return i}const o=Di(n[e]||i[e],t)||Di(n.appContext[e],t);return!o&&r?i:o}}function Di(e,t){return e&&(e[t]||e[tt(t)]||e[Yr(tt(t))])}function Xe(e,t,s,r){let n;const i=s,o=V(e);if(o||_e(e)){const a=o&&$t(e);let l=!1;a&&(l=!Ze(e),e=Xr(e)),n=new Array(e.length);for(let c=0,u=e.length;c<u;c++)n[c]=t(l?Pe(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(de(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=t(e[u],u,l,i)}}else n=[];return n}const Mn=e=>e?vl(e)?nn(e):Mn(e.parent):null,Ys=Oe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Mn(e.parent),$root:e=>Mn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Qa(e),$forceUpdate:e=>e.f||(e.f=()=>{pi(e.update)}),$nextTick:e=>e.n||(e.n=en.bind(e.proxy)),$watch:e=>Ou.bind(e)}),mn=(e,t)=>e!==ce&&!e.__isScriptSetup&&ie(e,t),du={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(mn(r,t))return o[t]=1,r[t];if(n!==ce&&ie(n,t))return o[t]=2,n[t];if((c=e.propsOptions[0])&&ie(c,t))return o[t]=3,i[t];if(s!==ce&&ie(s,t))return o[t]=4,s[t];Ln&&(o[t]=0)}}const u=Ys[t];let f,p;if(u)return t==="$attrs"&&Te(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==ce&&ie(s,t))return o[t]=4,s[t];if(p=l.config.globalProperties,ie(p,t))return p[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return mn(n,t)?(n[t]=s,!0):r!==ce&&ie(r,t)?(r[t]=s,!0):ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==ce&&ie(e,o)||mn(t,o)||(a=i[0])&&ie(a,o)||ie(r,o)||ie(Ys,o)||ie(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ie(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Bi(e){return V(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ln=!0;function fu(e){const t=Qa(e),s=e.proxy,r=e.ctx;Ln=!1,t.beforeCreate&&Ni(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:p,beforeUpdate:h,updated:y,activated:b,deactivated:x,beforeDestroy:S,beforeUnmount:k,destroyed:m,unmounted:w,render:E,renderTracked:N,renderTriggered:te,errorCaptured:Q,serverPrefetch:X,expose:ye,inheritAttrs:Re,components:Ve,directives:Ue,filters:Kt}=t;if(c&&hu(c,r,null),o)for(const J in o){const re=o[J];W(re)&&(r[J]=re.bind(s))}if(n){const J=n.call(s,s);de(J)&&(e.data=mr(J))}if(Ln=!0,i)for(const J in i){const re=i[J],yt=W(re)?re.bind(s,s):W(re.get)?re.get.bind(s,s):pt,Ot=!W(re)&&W(re.set)?re.set.bind(s):pt,ot=H({get:yt,set:Ot});Object.defineProperty(r,J,{enumerable:!0,configurable:!0,get:()=>ot.value,set:De=>ot.value=De})}if(a)for(const J in a)Ya(a[J],r,s,J);if(l){const J=W(l)?l.call(s):l;Reflect.ownKeys(J).forEach(re=>{Qs(re,J[re])})}u&&Ni(u,e,"c");function me(J,re){V(re)?re.forEach(yt=>J(yt.bind(s))):re&&J(re.bind(s))}if(me(ru,f),me(yr,p),me(nu,h),me(iu,y),me(eu,b),me(tu,x),me(cu,Q),me(lu,N),me(au,te),me(Ha,k),me(Ga,w),me(ou,X),V(ye))if(ye.length){const J=e.exposed||(e.exposed={});ye.forEach(re=>{Object.defineProperty(J,re,{get:()=>s[re],set:yt=>s[re]=yt})})}else e.exposed||(e.exposed={});E&&e.render===pt&&(e.render=E),Re!=null&&(e.inheritAttrs=Re),Ve&&(e.components=Ve),Ue&&(e.directives=Ue),X&&za(e)}function hu(e,t,s=pt){V(e)&&(e=Un(e));for(const r in e){const n=e[r];let i;de(n)?"default"in n?i=ze(n.from||r,n.default,!0):i=ze(n.from||r):i=ze(n),be(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Ni(e,t,s){vt(V(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ya(e,t,s,r){let n=r.includes(".")?fl(s,r):()=>s[r];if(_e(e)){const i=t[e];W(i)&&Ts(n,i)}else if(W(e))Ts(n,e.bind(s));else if(de(e))if(V(e))e.forEach(i=>Ya(i,t,s,r));else{const i=W(e.handler)?e.handler.bind(s):t[e.handler];W(i)&&Ts(n,i,e)}}function Qa(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(c=>qr(l,c,o,!0)),qr(l,t,o)),de(t)&&i.set(t,l),l}function qr(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&qr(e,i,s,!0),n&&n.forEach(o=>qr(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=pu[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const pu={data:Fi,props:zi,emits:zi,methods:qs,computed:qs,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:qs,directives:qs,watch:mu,provide:Fi,inject:gu};function Fi(e,t){return t?e?function(){return Oe(W(e)?e.call(this,this):e,W(t)?t.call(this,this):t)}:t:e}function gu(e,t){return qs(Un(e),Un(t))}function Un(e){if(V(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function je(e,t){return e?[...new Set([].concat(e,t))]:t}function qs(e,t){return e?Oe(Object.create(null),e,t):t}function zi(e,t){return e?V(e)&&V(t)?[...new Set([...e,...t])]:Oe(Object.create(null),Bi(e),Bi(t??{})):t}function mu(e,t){if(!e)return t;if(!t)return e;const s=Oe(Object.create(null),e);for(const r in t)s[r]=je(e[r],t[r]);return s}function Xa(){return{app:null,config:{isNativeTag:oc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vu=0;function yu(e,t){return function(r,n=null){W(r)||(r=Oe({},r)),n!=null&&!de(n)&&(n=null);const i=Xa(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:vu++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Xu,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&W(u.install)?(o.add(u),u.install(c,...f)):W(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,p){if(!l){const h=c._ceVNode||ge(r,n);return h.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),e(h,u,p),l=!0,c._container=u,u.__vue_app__=c,nn(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(vt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=ss;ss=c;try{return u()}finally{ss=f}}};return c}}let ss=null;function Qs(e,t){if($e){let s=$e.provides;const r=$e.parent&&$e.parent.provides;r===s&&(s=$e.provides=Object.create(r)),s[e]=t}}function ze(e,t,s=!1){const r=$e||Fe;if(r||ss){const n=ss?ss._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&W(t)?t.call(r&&r.proxy):t}}function Za(){return!!($e||Fe||ss)}const el={},tl=()=>Object.create(el),sl=e=>Object.getPrototypeOf(e)===el;function bu(e,t,s,r=!1){const n={},i=tl();e.propsDefaults=Object.create(null),rl(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:Ra(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function wu(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=se(n),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];if(sn(e.emitsOptions,p))continue;const h=t[p];if(l)if(ie(i,p))h!==i[p]&&(i[p]=h,c=!0);else{const y=tt(p);n[y]=Dn(l,a,y,h,e,!1)}else h!==i[p]&&(i[p]=h,c=!0)}}}else{rl(e,t,n,i)&&(c=!0);let u;for(const f in a)(!t||!ie(t,f)&&((u=as(f))===f||!ie(t,u)))&&(l?s&&(s[f]!==void 0||s[u]!==void 0)&&(n[f]=Dn(l,a,f,void 0,e,!0)):delete n[f]);if(i!==a)for(const f in i)(!t||!ie(t,f))&&(delete i[f],c=!0)}c&&St(e.attrs,"set","")}function rl(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Gs(l))continue;const c=t[l];let u;n&&ie(n,u=tt(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:sn(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=se(s),c=a||ce;for(let u=0;u<i.length;u++){const f=i[u];s[f]=Dn(n,l,f,c[f],e,!ie(c,f))}}return o}function Dn(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=ie(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&W(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=br(n);r=c[s]=l.call(null,t),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===as(s))&&(r=!0))}return r}const _u=new WeakMap;function nl(e,t,s=!1){const r=s?_u:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!W(e)){const u=f=>{l=!0;const[p,h]=nl(f,t,!0);Oe(o,p),h&&a.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return de(e)&&r.set(e,Es),Es;if(V(i))for(let u=0;u<i.length;u++){const f=tt(i[u]);Vi(f)&&(o[f]=ce)}else if(i)for(const u in i){const f=tt(u);if(Vi(f)){const p=i[u],h=o[f]=V(p)||W(p)?{type:p}:Oe({},p),y=h.type;let b=!1,x=!0;if(V(y))for(let S=0;S<y.length;++S){const k=y[S],m=W(k)&&k.name;if(m==="Boolean"){b=!0;break}else m==="String"&&(x=!1)}else b=W(y)&&y.name==="Boolean";h[0]=b,h[1]=x,(b||ie(h,"default"))&&a.push(f)}}const c=[o,a];return de(e)&&r.set(e,c),c}function Vi(e){return e[0]!=="$"&&!Gs(e)}const il=e=>e[0]==="_"||e==="$stable",mi=e=>V(e)?e.map(ht):[ht(e)],xu=(e,t,s)=>{if(t._n)return t;const r=zr((...n)=>mi(t(...n)),s);return r._c=!1,r},ol=(e,t,s)=>{const r=e._ctx;for(const n in e){if(il(n))continue;const i=e[n];if(W(i))t[n]=xu(n,i,r);else if(i!=null){const o=mi(i);t[n]=()=>o}}},al=(e,t)=>{const s=mi(t);e.slots.default=()=>s},ll=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},Su=(e,t,s)=>{const r=e.slots=tl();if(e.vnode.shapeFlag&32){const n=t._;n?(ll(r,t,s),s&&da(r,"_",n,!0)):ol(t,r)}else t&&al(e,t)},ku=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=ce;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:ll(n,t,s):(i=!t.$stable,ol(t,n)),o=t}else t&&(al(e,t),o={default:1});if(i)for(const a in n)!il(a)&&o[a]==null&&delete n[a]},Ge=Du;function Eu(e){return $u(e)}function $u(e,t){const s=Qr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:p,setScopeId:h=pt,insertStaticContent:y}=e,b=(g,v,_,$=null,P=null,T=null,M=void 0,j=null,R=!!v.dynamicChildren)=>{if(g===v)return;g&&!Ns(g,v)&&($=C(g),De(g,P,T,!0),g=null),v.patchFlag===-2&&(R=!1,v.dynamicChildren=null);const{type:A,ref:q,shapeFlag:U}=v;switch(A){case rn:x(g,v,_,$);break;case is:S(g,v,_,$);break;case Ir:g==null&&k(v,_,$,M);break;case ue:Ve(g,v,_,$,P,T,M,j,R);break;default:U&1?E(g,v,_,$,P,T,M,j,R):U&6?Ue(g,v,_,$,P,T,M,j,R):(U&64||U&128)&&A.process(g,v,_,$,P,T,M,j,R,F)}q!=null&&P&&Vr(q,g&&g.ref,T,v||g,!v)},x=(g,v,_,$)=>{if(g==null)r(v.el=a(v.children),_,$);else{const P=v.el=g.el;v.children!==g.children&&c(P,v.children)}},S=(g,v,_,$)=>{g==null?r(v.el=l(v.children||""),_,$):v.el=g.el},k=(g,v,_,$)=>{[g.el,g.anchor]=y(g.children,v,_,$,g.el,g.anchor)},m=({el:g,anchor:v},_,$)=>{let P;for(;g&&g!==v;)P=p(g),r(g,_,$),g=P;r(v,_,$)},w=({el:g,anchor:v})=>{let _;for(;g&&g!==v;)_=p(g),n(g),g=_;n(v)},E=(g,v,_,$,P,T,M,j,R)=>{v.type==="svg"?M="svg":v.type==="math"&&(M="mathml"),g==null?N(v,_,$,P,T,M,j,R):X(g,v,P,T,M,j,R)},N=(g,v,_,$,P,T,M,j)=>{let R,A;const{props:q,shapeFlag:U,transition:z,dirs:G}=g;if(R=g.el=o(g.type,T,q&&q.is,q),U&8?u(R,g.children):U&16&&Q(g.children,R,null,$,P,vn(g,T),M,j),G&&Wt(g,null,$,"created"),te(R,g,g.scopeId,M,$),q){for(const fe in q)fe!=="value"&&!Gs(fe)&&i(R,fe,null,q[fe],T,$);"value"in q&&i(R,"value",null,q.value,T),(A=q.onVnodeBeforeMount)&&ut(A,$,g)}G&&Wt(g,null,$,"beforeMount");const ee=Cu(P,z);ee&&z.beforeEnter(R),r(R,v,_),((A=q&&q.onVnodeMounted)||ee||G)&&Ge(()=>{A&&ut(A,$,g),ee&&z.enter(R),G&&Wt(g,null,$,"mounted")},P)},te=(g,v,_,$,P)=>{if(_&&h(g,_),$)for(let T=0;T<$.length;T++)h(g,$[T]);if(P){let T=P.subTree;if(v===T||pl(T.type)&&(T.ssContent===v||T.ssFallback===v)){const M=P.vnode;te(g,M,M.scopeId,M.slotScopeIds,P.parent)}}},Q=(g,v,_,$,P,T,M,j,R=0)=>{for(let A=R;A<g.length;A++){const q=g[A]=j?Ut(g[A]):ht(g[A]);b(null,q,v,_,$,P,T,M,j)}},X=(g,v,_,$,P,T,M)=>{const j=v.el=g.el;let{patchFlag:R,dynamicChildren:A,dirs:q}=v;R|=g.patchFlag&16;const U=g.props||ce,z=v.props||ce;let G;if(_&&Jt(_,!1),(G=z.onVnodeBeforeUpdate)&&ut(G,_,v,g),q&&Wt(v,g,_,"beforeUpdate"),_&&Jt(_,!0),(U.innerHTML&&z.innerHTML==null||U.textContent&&z.textContent==null)&&u(j,""),A?ye(g.dynamicChildren,A,j,_,$,vn(v,P),T):M||re(g,v,j,null,_,$,vn(v,P),T,!1),R>0){if(R&16)Re(j,U,z,_,P);else if(R&2&&U.class!==z.class&&i(j,"class",null,z.class,P),R&4&&i(j,"style",U.style,z.style,P),R&8){const ee=v.dynamicProps;for(let fe=0;fe<ee.length;fe++){const oe=ee[fe],qe=U[oe],Be=z[oe];(Be!==qe||oe==="value")&&i(j,oe,qe,Be,P,_)}}R&1&&g.children!==v.children&&u(j,v.children)}else!M&&A==null&&Re(j,U,z,_,P);((G=z.onVnodeUpdated)||q)&&Ge(()=>{G&&ut(G,_,v,g),q&&Wt(v,g,_,"updated")},$)},ye=(g,v,_,$,P,T,M)=>{for(let j=0;j<v.length;j++){const R=g[j],A=v[j],q=R.el&&(R.type===ue||!Ns(R,A)||R.shapeFlag&70)?f(R.el):_;b(R,A,q,null,$,P,T,M,!0)}},Re=(g,v,_,$,P)=>{if(v!==_){if(v!==ce)for(const T in v)!Gs(T)&&!(T in _)&&i(g,T,v[T],null,P,$);for(const T in _){if(Gs(T))continue;const M=_[T],j=v[T];M!==j&&T!=="value"&&i(g,T,j,M,P,$)}"value"in _&&i(g,"value",v.value,_.value,P)}},Ve=(g,v,_,$,P,T,M,j,R)=>{const A=v.el=g?g.el:a(""),q=v.anchor=g?g.anchor:a("");let{patchFlag:U,dynamicChildren:z,slotScopeIds:G}=v;G&&(j=j?j.concat(G):G),g==null?(r(A,_,$),r(q,_,$),Q(v.children||[],_,q,P,T,M,j,R)):U>0&&U&64&&z&&g.dynamicChildren?(ye(g.dynamicChildren,z,_,P,T,M,j),(v.key!=null||P&&v===P.subTree)&&cl(g,v,!0)):re(g,v,_,q,P,T,M,j,R)},Ue=(g,v,_,$,P,T,M,j,R)=>{v.slotScopeIds=j,g==null?v.shapeFlag&512?P.ctx.activate(v,_,$,M,R):Kt(v,_,$,P,T,M,R):At(g,v,R)},Kt=(g,v,_,$,P,T,M)=>{const j=g.component=Hu(g,$,P);if(Va(g)&&(j.ctx.renderer=F),Gu(j,!1,M),j.asyncDep){if(P&&P.registerDep(j,me,M),!g.el){const R=j.subTree=ge(is);S(null,R,v,_)}}else me(j,g,v,_,P,T,M)},At=(g,v,_)=>{const $=v.component=g.component;if(Lu(g,v,_))if($.asyncDep&&!$.asyncResolved){J($,v,_);return}else $.next=v,$.update();else v.el=g.el,$.vnode=v},me=(g,v,_,$,P,T,M)=>{const j=()=>{if(g.isMounted){let{next:U,bu:z,u:G,parent:ee,vnode:fe}=g;{const lt=ul(g);if(lt){U&&(U.el=fe.el,J(g,U,M)),lt.asyncDep.then(()=>{g.isUnmounted||j()});return}}let oe=U,qe;Jt(g,!1),U?(U.el=fe.el,J(g,U,M)):U=fe,z&&jr(z),(qe=U.props&&U.props.onVnodeBeforeUpdate)&&ut(qe,ee,U,fe),Jt(g,!0);const Be=Hi(g),at=g.subTree;g.subTree=Be,b(at,Be,f(at.el),C(at),g,P,T),U.el=Be.el,oe===null&&Uu(g,Be.el),G&&Ge(G,P),(qe=U.props&&U.props.onVnodeUpdated)&&Ge(()=>ut(qe,ee,U,fe),P)}else{let U;const{el:z,props:G}=v,{bm:ee,m:fe,parent:oe,root:qe,type:Be}=g,at=Js(v);Jt(g,!1),ee&&jr(ee),!at&&(U=G&&G.onVnodeBeforeMount)&&ut(U,oe,v),Jt(g,!0);{qe.ce&&qe.ce._injectChildStyle(Be);const lt=g.subTree=Hi(g);b(null,lt,_,$,g,P,T),v.el=lt.el}if(fe&&Ge(fe,P),!at&&(U=G&&G.onVnodeMounted)){const lt=v;Ge(()=>ut(U,oe,lt),P)}(v.shapeFlag&256||oe&&Js(oe.vnode)&&oe.vnode.shapeFlag&256)&&g.a&&Ge(g.a,P),g.isMounted=!0,v=_=$=null}};g.scope.on();const R=g.effect=new ya(j);g.scope.off();const A=g.update=R.run.bind(R),q=g.job=R.runIfDirty.bind(R);q.i=g,q.id=g.uid,R.scheduler=()=>pi(q),Jt(g,!0),A()},J=(g,v,_)=>{v.component=g;const $=g.vnode.props;g.vnode=v,g.next=null,wu(g,v.props,$,_),ku(g,v.children,_),Vt(),Ui(g),qt()},re=(g,v,_,$,P,T,M,j,R=!1)=>{const A=g&&g.children,q=g?g.shapeFlag:0,U=v.children,{patchFlag:z,shapeFlag:G}=v;if(z>0){if(z&128){Ot(A,U,_,$,P,T,M,j,R);return}else if(z&256){yt(A,U,_,$,P,T,M,j,R);return}}G&8?(q&16&&Qe(A,P,T),U!==A&&u(_,U)):q&16?G&16?Ot(A,U,_,$,P,T,M,j,R):Qe(A,P,T,!0):(q&8&&u(_,""),G&16&&Q(U,_,$,P,T,M,j,R))},yt=(g,v,_,$,P,T,M,j,R)=>{g=g||Es,v=v||Es;const A=g.length,q=v.length,U=Math.min(A,q);let z;for(z=0;z<U;z++){const G=v[z]=R?Ut(v[z]):ht(v[z]);b(g[z],G,_,null,P,T,M,j,R)}A>q?Qe(g,P,T,!0,!1,U):Q(v,_,$,P,T,M,j,R,U)},Ot=(g,v,_,$,P,T,M,j,R)=>{let A=0;const q=v.length;let U=g.length-1,z=q-1;for(;A<=U&&A<=z;){const G=g[A],ee=v[A]=R?Ut(v[A]):ht(v[A]);if(Ns(G,ee))b(G,ee,_,null,P,T,M,j,R);else break;A++}for(;A<=U&&A<=z;){const G=g[U],ee=v[z]=R?Ut(v[z]):ht(v[z]);if(Ns(G,ee))b(G,ee,_,null,P,T,M,j,R);else break;U--,z--}if(A>U){if(A<=z){const G=z+1,ee=G<q?v[G].el:$;for(;A<=z;)b(null,v[A]=R?Ut(v[A]):ht(v[A]),_,ee,P,T,M,j,R),A++}}else if(A>z)for(;A<=U;)De(g[A],P,T,!0),A++;else{const G=A,ee=A,fe=new Map;for(A=ee;A<=z;A++){const He=v[A]=R?Ut(v[A]):ht(v[A]);He.key!=null&&fe.set(He.key,A)}let oe,qe=0;const Be=z-ee+1;let at=!1,lt=0;const Ds=new Array(Be);for(A=0;A<Be;A++)Ds[A]=0;for(A=G;A<=U;A++){const He=g[A];if(qe>=Be){De(He,P,T,!0);continue}let ct;if(He.key!=null)ct=fe.get(He.key);else for(oe=ee;oe<=z;oe++)if(Ds[oe-ee]===0&&Ns(He,v[oe])){ct=oe;break}ct===void 0?De(He,P,T,!0):(Ds[ct-ee]=A+1,ct>=lt?lt=ct:at=!0,b(He,v[ct],_,null,P,T,M,j,R),qe++)}const Oi=at?Tu(Ds):Es;for(oe=Oi.length-1,A=Be-1;A>=0;A--){const He=ee+A,ct=v[He],Ri=He+1<q?v[He+1].el:$;Ds[A]===0?b(null,ct,_,Ri,P,T,M,j,R):at&&(oe<0||A!==Oi[oe]?ot(ct,_,Ri,2):oe--)}}},ot=(g,v,_,$,P=null)=>{const{el:T,type:M,transition:j,children:R,shapeFlag:A}=g;if(A&6){ot(g.component.subTree,v,_,$);return}if(A&128){g.suspense.move(v,_,$);return}if(A&64){M.move(g,v,_,F);return}if(M===ue){r(T,v,_);for(let U=0;U<R.length;U++)ot(R[U],v,_,$);r(g.anchor,v,_);return}if(M===Ir){m(g,v,_);return}if($!==2&&A&1&&j)if($===0)j.beforeEnter(T),r(T,v,_),Ge(()=>j.enter(T),P);else{const{leave:U,delayLeave:z,afterLeave:G}=j,ee=()=>r(T,v,_),fe=()=>{U(T,()=>{ee(),G&&G()})};z?z(T,ee,fe):fe()}else r(T,v,_)},De=(g,v,_,$=!1,P=!1)=>{const{type:T,props:M,ref:j,children:R,dynamicChildren:A,shapeFlag:q,patchFlag:U,dirs:z,cacheIndex:G}=g;if(U===-2&&(P=!1),j!=null&&Vr(j,null,_,g,!0),G!=null&&(v.renderCache[G]=void 0),q&256){v.ctx.deactivate(g);return}const ee=q&1&&z,fe=!Js(g);let oe;if(fe&&(oe=M&&M.onVnodeBeforeUnmount)&&ut(oe,v,g),q&6)_r(g.component,_,$);else{if(q&128){g.suspense.unmount(_,$);return}ee&&Wt(g,null,v,"beforeUnmount"),q&64?g.type.remove(g,v,_,F,$):A&&!A.hasOnce&&(T!==ue||U>0&&U&64)?Qe(A,v,_,!1,!0):(T===ue&&U&384||!P&&q&16)&&Qe(R,v,_),$&&us(g)}(fe&&(oe=M&&M.onVnodeUnmounted)||ee)&&Ge(()=>{oe&&ut(oe,v,g),ee&&Wt(g,null,v,"unmounted")},_)},us=g=>{const{type:v,el:_,anchor:$,transition:P}=g;if(v===ue){ds(_,$);return}if(v===Ir){w(g);return}const T=()=>{n(_),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(g.shapeFlag&1&&P&&!P.persisted){const{leave:M,delayLeave:j}=P,R=()=>M(_,T);j?j(g.el,T,R):R()}else T()},ds=(g,v)=>{let _;for(;g!==v;)_=p(g),n(g),g=_;n(v)},_r=(g,v,_)=>{const{bum:$,scope:P,job:T,subTree:M,um:j,m:R,a:A}=g;qi(R),qi(A),$&&jr($),P.stop(),T&&(T.flags|=8,De(M,g,v,_)),j&&Ge(j,v),Ge(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},Qe=(g,v,_,$=!1,P=!1,T=0)=>{for(let M=T;M<g.length;M++)De(g[M],v,_,$,P)},C=g=>{if(g.shapeFlag&6)return C(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const v=p(g.anchor||g.el),_=v&&v[Xc];return _?p(_):v};let B=!1;const L=(g,v,_)=>{g==null?v._vnode&&De(v._vnode,null,null,!0):b(v._vnode||null,g,v,null,null,null,_),v._vnode=g,B||(B=!0,Ui(),Ba(),B=!1)},F={p:b,um:De,m:ot,r:us,mt:Kt,mc:Q,pc:re,pbc:ye,n:C,o:e};return{render:L,hydrate:void 0,createApp:yu(L)}}function vn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Jt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Cu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function cl(e,t,s=!1){const r=e.children,n=t.children;if(V(r)&&V(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ut(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&cl(o,a)),a.type===rn&&(a.el=o.el)}}function Tu(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(n=s[s.length-1],e[n]<c){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<c?i=a+1:o=a;c<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function ul(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ul(t)}function qi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Pu=Symbol.for("v-scx"),Au=()=>ze(Pu);function Ts(e,t,s){return dl(e,t,s)}function dl(e,t,s=ce){const{immediate:r,deep:n,flush:i,once:o}=s,a=Oe({},s),l=t&&r||!t&&i!=="post";let c;if(ur){if(i==="sync"){const h=Au();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=pt,h.resume=pt,h.pause=pt,h}}const u=$e;a.call=(h,y,b)=>vt(h,u,y,b);let f=!1;i==="post"?a.scheduler=h=>{Ge(h,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(h,y)=>{y?h():pi(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const p=Wc(e,t,a);return ur&&(c?c.push(p):l&&p()),p}function Ou(e,t,s){const r=this.proxy,n=_e(e)?e.includes(".")?fl(r,e):()=>r[e]:e.bind(r,r);let i;W(t)?i=t:(i=t.handler,s=t);const o=br(this),a=dl(n,i.bind(r),s);return o(),a}function fl(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Ru=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tt(t)}Modifiers`]||e[`${as(t)}Modifiers`];function ju(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||ce;let n=s;const i=t.startsWith("update:"),o=i&&Ru(r,t.slice(7));o&&(o.trim&&(n=s.map(u=>_e(u)?u.trim():u)),o.number&&(n=s.map(Ur)));let a,l=r[a=dn(t)]||r[a=dn(tt(t))];!l&&i&&(l=r[a=dn(as(t))]),l&&vt(l,e,6,n);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,vt(c,e,6,n)}}function hl(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!W(e)){const l=c=>{const u=hl(c,t,!0);u&&(a=!0,Oe(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(de(e)&&r.set(e,null),null):(V(i)?i.forEach(l=>o[l]=null):Oe(o,i),de(e)&&r.set(e,o),o)}function sn(e,t){return!e||!Wr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ie(e,t[0].toLowerCase()+t.slice(1))||ie(e,as(t))||ie(e,t))}function Hi(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:p,setupState:h,ctx:y,inheritAttrs:b}=e,x=Fr(e);let S,k;try{if(s.shapeFlag&4){const w=n||r,E=w;S=ht(c.call(E,w,u,f,h,p,y)),k=a}else{const w=t;S=ht(w.length>1?w(f,{attrs:a,slots:o,emit:l}):w(f,null)),k=t.props?a:Iu(a)}}catch(w){Xs.length=0,Zr(w,e,1),S=ge(is)}let m=S;if(k&&b!==!1){const w=Object.keys(k),{shapeFlag:E}=m;w.length&&E&7&&(i&&w.some(si)&&(k=Mu(k,i)),m=As(m,k,!1,!0))}return s.dirs&&(m=As(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(s.dirs):s.dirs),s.transition&&gi(m,s.transition),S=m,Fr(x),S}const Iu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Wr(s))&&((t||(t={}))[s]=e[s]);return t},Mu=(e,t)=>{const s={};for(const r in e)(!si(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function Lu(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Gi(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(o[p]!==r[p]&&!sn(c,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Gi(r,o,c):!0:!!o;return!1}function Gi(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!sn(s,i))return!0}return!1}function Uu({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const pl=e=>e.__isSuspense;function Du(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):Qc(e)}const ue=Symbol.for("v-fgt"),rn=Symbol.for("v-txt"),is=Symbol.for("v-cmt"),Ir=Symbol.for("v-stc"),Xs=[];let Je=null;function O(e=!1){Xs.push(Je=e?null:[])}function Bu(){Xs.pop(),Je=Xs[Xs.length-1]||null}let cr=1;function Ki(e,t=!1){cr+=e,e<0&&Je&&t&&(Je.hasOnce=!0)}function gl(e){return e.dynamicChildren=cr>0?Je||Es:null,Bu(),cr>0&&Je&&Je.push(e),e}function I(e,t,s,r,n,i){return gl(d(e,t,s,r,n,i,!0))}function We(e,t,s,r,n){return gl(ge(e,t,s,r,n,!0))}function Hr(e){return e?e.__v_isVNode===!0:!1}function Ns(e,t){return e.type===t.type&&e.key===t.key}const ml=({key:e})=>e??null,Mr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?_e(e)||be(e)||W(e)?{i:Fe,r:e,k:t,f:!!s}:e:null);function d(e,t=null,s=null,r=0,n=null,i=e===ue?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ml(t),ref:t&&Mr(t),scopeId:Fa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Fe};return a?(vi(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=_e(s)?8:16),cr>0&&!o&&Je&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Je.push(l),l}const ge=Nu;function Nu(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===Wa)&&(e=is),Hr(e)){const a=As(e,t,!0);return s&&vi(a,s),cr>0&&!i&&Je&&(a.shapeFlag&6?Je[Je.indexOf(e)]=a:Je.push(a)),a.patchFlag=-2,a}if(Qu(e)&&(e=e.__vccOpts),t){t=Fu(t);let{class:a,style:l}=t;a&&!_e(a)&&(t.class=ae(a)),de(l)&&(fi(l)&&!V(l)&&(l=Oe({},l)),t.style=Ct(l))}const o=_e(e)?1:pl(e)?128:Zc(e)?64:de(e)?4:W(e)?2:0;return d(e,t,s,r,n,o,i,!0)}function Fu(e){return e?fi(e)||sl(e)?Oe({},e):e:null}function As(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?zu(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ml(c),ref:t&&t.ref?s&&i?V(i)?i.concat(Mr(t)):[i,Mr(t)]:Mr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ue?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&As(e.ssContent),ssFallback:e.ssFallback&&As(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&gi(u,l.clone(u)),u}function Le(e=" ",t=0){return ge(rn,null,e,t)}function Tt(e,t){const s=ge(Ir,null,e);return s.staticCount=t,s}function ve(e="",t=!1){return t?(O(),We(is,null,e)):ge(is,null,e)}function ht(e){return e==null||typeof e=="boolean"?ge(is):V(e)?ge(ue,null,e.slice()):Hr(e)?Ut(e):ge(rn,null,String(e))}function Ut(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:As(e)}function vi(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(V(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),vi(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!sl(t)?t._ctx=Fe:n===3&&Fe&&(Fe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else W(t)?(t={default:t,_ctx:Fe},s=32):(t=String(t),r&64?(s=16,t=[Le(t)]):s=8);e.children=t,e.shapeFlag|=s}function zu(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=ae([t.class,r.class]));else if(n==="style")t.style=Ct([t.style,r.style]);else if(Wr(n)){const i=t[n],o=r[n];o&&i!==o&&!(V(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function ut(e,t,s,r=null){vt(e,t,7,[s,r])}const Vu=Xa();let qu=0;function Hu(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||Vu,i={uid:qu++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ga(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nl(r,n),emitsOptions:hl(r,n),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:r.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ju.bind(null,i),e.ce&&e.ce(i),i}let $e=null,Gr,Bn;{const e=Qr(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Gr=t("__VUE_INSTANCE_SETTERS__",s=>$e=s),Bn=t("__VUE_SSR_SETTERS__",s=>ur=s)}const br=e=>{const t=$e;return Gr(e),e.scope.on(),()=>{e.scope.off(),Gr(t)}},Wi=()=>{$e&&$e.scope.off(),Gr(null)};function vl(e){return e.vnode.shapeFlag&4}let ur=!1;function Gu(e,t=!1,s=!1){t&&Bn(t);const{props:r,children:n}=e.vnode,i=vl(e);bu(e,r,i,t),Su(e,n,s);const o=i?Ku(e,t):void 0;return t&&Bn(!1),o}function Ku(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,du);const{setup:r}=s;if(r){Vt();const n=e.setupContext=r.length>1?Ju(e):null,i=br(e),o=vr(r,e,0,[e.props,n]),a=la(o);if(qt(),i(),(a||e.sp)&&!Js(e)&&za(e),a){if(o.then(Wi,Wi),t)return o.then(l=>{Ji(e,l)}).catch(l=>{Zr(l,e,0)});e.asyncDep=o}else Ji(e,o)}else yl(e)}function Ji(e,t,s){W(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=Ma(t)),yl(e)}function yl(e,t,s){const r=e.type;e.render||(e.render=r.render||pt);{const n=br(e);Vt();try{fu(e)}finally{qt(),n()}}}const Wu={get(e,t){return Te(e,"get",""),e[t]}};function Ju(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Wu),slots:e.slots,emit:e.emit,expose:t}}function nn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ma(hi(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ys)return Ys[s](e)},has(t,s){return s in t||s in Ys}})):e.proxy}function Yu(e,t=!0){return W(e)?e.displayName||e.name:e.name||t&&e.__name}function Qu(e){return W(e)&&"__vccOpts"in e}const H=(e,t)=>Gc(e,t,ur);function dr(e,t,s){const r=arguments.length;return r===2?de(t)&&!V(t)?Hr(t)?ge(e,null,[t]):ge(e,t):ge(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Hr(s)&&(s=[s]),ge(e,t,s))}const Xu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nn;const Yi=typeof window<"u"&&window.trustedTypes;if(Yi)try{Nn=Yi.createPolicy("vue",{createHTML:e=>e})}catch{}const bl=Nn?e=>Nn.createHTML(e):e=>e,Zu="http://www.w3.org/2000/svg",ed="http://www.w3.org/1998/Math/MathML",_t=typeof document<"u"?document:null,Qi=_t&&_t.createElement("template"),td={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?_t.createElementNS(Zu,e):t==="mathml"?_t.createElementNS(ed,e):s?_t.createElement(e,{is:s}):_t.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>_t.createTextNode(e),createComment:e=>_t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Qi.innerHTML=bl(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Qi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},sd=Symbol("_vtc");function rd(e,t,s){const r=e[sd];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Xi=Symbol("_vod"),nd=Symbol("_vsh"),id=Symbol(""),od=/(^|;)\s*display\s*:/;function ad(e,t,s){const r=e.style,n=_e(s);let i=!1;if(s&&!n){if(t)if(_e(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Lr(r,a,"")}else for(const o in t)s[o]==null&&Lr(r,o,"");for(const o in s)o==="display"&&(i=!0),Lr(r,o,s[o])}else if(n){if(t!==s){const o=r[id];o&&(s+=";"+o),r.cssText=s,i=od.test(s)}}else t&&e.removeAttribute("style");Xi in e&&(e[Xi]=i?r.display:"",e[nd]&&(r.display="none"))}const Zi=/\s*!important$/;function Lr(e,t,s){if(V(s))s.forEach(r=>Lr(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=ld(e,t);Zi.test(s)?e.setProperty(as(r),s.replace(Zi,""),"important"):e[r]=s}}const eo=["Webkit","Moz","ms"],yn={};function ld(e,t){const s=yn[t];if(s)return s;let r=tt(t);if(r!=="filter"&&r in e)return yn[t]=r;r=Yr(r);for(let n=0;n<eo.length;n++){const i=eo[n]+r;if(i in e)return yn[t]=i}return t}const to="http://www.w3.org/1999/xlink";function so(e,t,s,r,n,i=mc(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(to,t.slice(6,t.length)):e.setAttributeNS(to,t,s):s==null||i&&!fa(s)?e.removeAttribute(t):e.setAttribute(t,i?"":mt(s)?String(s):s)}function ro(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?bl(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=fa(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function Et(e,t,s,r){e.addEventListener(t,s,r)}function cd(e,t,s,r){e.removeEventListener(t,s,r)}const no=Symbol("_vei");function ud(e,t,s,r,n=null){const i=e[no]||(e[no]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=dd(t);if(r){const c=i[t]=pd(r,n);Et(e,a,c,l)}else o&&(cd(e,a,o,l),i[t]=void 0)}}const io=/(?:Once|Passive|Capture)$/;function dd(e){let t;if(io.test(e)){t={};let r;for(;r=e.match(io);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):as(e.slice(2)),t]}let bn=0;const fd=Promise.resolve(),hd=()=>bn||(fd.then(()=>bn=0),bn=Date.now());function pd(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;vt(gd(r,s.value),t,5,[r])};return s.value=e,s.attached=hd(),s}function gd(e,t){if(V(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const oo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,md=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?rd(e,r,o):t==="style"?ad(e,s,r):Wr(t)?si(t)||ud(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):vd(e,t,r,o))?(ro(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&so(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_e(r))?ro(e,tt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),so(e,t,r,o))};function vd(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&oo(t)&&W(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return oo(t)&&_e(s)?!1:t in e}const zt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return V(t)?s=>jr(t,s):t};function yd(e){e.target.composing=!0}function ao(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const et=Symbol("_assign"),Ye={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[et]=zt(n);const i=r||n.props&&n.props.type==="number";Et(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=Ur(a)),e[et](a)}),s&&Et(e,"change",()=>{e.value=e.value.trim()}),t||(Et(e,"compositionstart",yd),Et(e,"compositionend",ao),Et(e,"change",ao))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(e[et]=zt(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ur(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===l)||(e.value=l))}},yi={deep:!0,created(e,t,s){e[et]=zt(s),Et(e,"change",()=>{const r=e._modelValue,n=Os(e),i=e.checked,o=e[et];if(V(r)){const a=ii(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Ms(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(wl(e,i))})},mounted:lo,beforeUpdate(e,t,s){e[et]=zt(s),lo(e,t,s)}};function lo(e,{value:t,oldValue:s},r){e._modelValue=t;let n;if(V(t))n=ii(t,r.props.value)>-1;else if(Ms(t))n=t.has(r.props.value);else{if(t===s)return;n=rs(t,wl(e,!0))}e.checked!==n&&(e.checked=n)}const bd={created(e,{value:t},s){e.checked=rs(t,s.props.value),e[et]=zt(s),Et(e,"change",()=>{e[et](Os(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[et]=zt(r),t!==s&&(e.checked=rs(t,r.props.value))}},es={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const n=Ms(t);Et(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?Ur(Os(o)):Os(o));e[et](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,en(()=>{e._assigning=!1})}),e[et]=zt(r)},mounted(e,{value:t}){co(e,t)},beforeUpdate(e,t,s){e[et]=zt(s)},updated(e,{value:t}){e._assigning||co(e,t)}};function co(e,t){const s=e.multiple,r=V(t);if(!(s&&!r&&!Ms(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],a=Os(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=ii(t,a)>-1}else o.selected=t.has(a);else if(rs(Os(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Os(e){return"_value"in e?e._value:e.value}function wl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Fn={created(e,t,s){Er(e,t,s,null,"created")},mounted(e,t,s){Er(e,t,s,null,"mounted")},beforeUpdate(e,t,s,r){Er(e,t,s,r,"beforeUpdate")},updated(e,t,s,r){Er(e,t,s,r,"updated")}};function wd(e,t){switch(e){case"SELECT":return es;case"TEXTAREA":return Ye;default:switch(t){case"checkbox":return yi;case"radio":return bd;default:return Ye}}}function Er(e,t,s,r,n){const o=wd(e.tagName,s.props&&s.props.type)[n];o&&o(e,t,s,r)}const _d=["ctrl","shift","alt","meta"],xd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_d.some(s=>e[`${s}Key`]&&!t.includes(s))},gt=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=xd[t[o]];if(a&&a(n,t))return}return e(n,...i)})},Sd=Oe({patchProp:md},td);let uo;function kd(){return uo||(uo=Eu(Sd))}const Ed=(...e)=>{const t=kd().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=Cd(r);if(!n)return;const i=t._component;!W(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,$d(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function $d(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Cd(e){return _e(e)?document.querySelector(e):e}const Td="modulepreload",Pd=function(e){return"/financial-manager/"+e},fo={},rt=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(c=>{if(c=Pd(c),c in fo)return;fo[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Td,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((h,y)=>{p.addEventListener("load",h),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let bi;const on=e=>bi=e,ho=()=>Za()&&ze(wi)||bi,wi=Symbol();function zn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Zs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Zs||(Zs={}));function Ad(){const e=ma(!0),t=e.run(()=>K({}));let s=[],r=[];const n=hi({install(i){on(n),n._a=i,i.provide(wi,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const _l=()=>{};function po(e,t,s,r=_l){e.push(t);const n=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&va()&&yc(n),n}function hs(e,...t){e.slice().forEach(s=>{s(...t)})}const Od=e=>e(),go=Symbol(),wn=Symbol();function Vn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],n=e[s];zn(n)&&zn(r)&&e.hasOwnProperty(s)&&!be(r)&&!$t(r)?e[s]=Vn(n,r):e[s]=r}return e}const Rd=Symbol();function jd(e){return!zn(e)||!e.hasOwnProperty(Rd)}const{assign:jt}=Object;function Id(e){return!!(be(e)&&e.effect)}function Md(e,t,s,r){const{state:n,actions:i,getters:o}=t,a=s.state.value[e];let l;function c(){a||(s.state.value[e]=n?n():{});const u=Fc(s.state.value[e]);return jt(u,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=hi(H(()=>{on(s);const h=s._s.get(e);return o[p].call(h,h)})),f),{}))}return l=xl(e,c,t,s,r,!0),l}function xl(e,t,s={},r,n,i){let o;const a=jt({actions:{}},s),l={deep:!0};let c,u,f=[],p=[],h;const y=r.state.value[e];!i&&!y&&(r.state.value[e]={}),K({});let b;function x(Q){let X;c=u=!1,typeof Q=="function"?(Q(r.state.value[e]),X={type:Zs.patchFunction,storeId:e,events:h}):(Vn(r.state.value[e],Q),X={type:Zs.patchObject,payload:Q,storeId:e,events:h});const ye=b=Symbol();en().then(()=>{b===ye&&(c=!0)}),u=!0,hs(f,X,r.state.value[e])}const S=i?function(){const{state:X}=s,ye=X?X():{};this.$patch(Re=>{jt(Re,ye)})}:_l;function k(){o.stop(),f=[],p=[],r._s.delete(e)}const m=(Q,X="")=>{if(go in Q)return Q[wn]=X,Q;const ye=function(){on(r);const Re=Array.from(arguments),Ve=[],Ue=[];function Kt(J){Ve.push(J)}function At(J){Ue.push(J)}hs(p,{args:Re,name:ye[wn],store:E,after:Kt,onError:At});let me;try{me=Q.apply(this&&this.$id===e?this:E,Re)}catch(J){throw hs(Ue,J),J}return me instanceof Promise?me.then(J=>(hs(Ve,J),J)).catch(J=>(hs(Ue,J),Promise.reject(J))):(hs(Ve,me),me)};return ye[go]=!0,ye[wn]=X,ye},w={_p:r,$id:e,$onAction:po.bind(null,p),$patch:x,$reset:S,$subscribe(Q,X={}){const ye=po(f,Q,X.detached,()=>Re()),Re=o.run(()=>Ts(()=>r.state.value[e],Ve=>{(X.flush==="sync"?u:c)&&Q({storeId:e,type:Zs.direct,events:h},Ve)},jt({},l,X)));return ye},$dispose:k},E=mr(w);r._s.set(e,E);const te=(r._a&&r._a.runWithContext||Od)(()=>r._e.run(()=>(o=ma()).run(()=>t({action:m}))));for(const Q in te){const X=te[Q];if(be(X)&&!Id(X)||$t(X))i||(y&&jd(X)&&(be(X)?X.value=y[Q]:Vn(X,y[Q])),r.state.value[e][Q]=X);else if(typeof X=="function"){const ye=m(X,Q);te[Q]=ye,a.actions[Q]=X}}return jt(E,te),jt(se(E),te),Object.defineProperty(E,"$state",{get:()=>r.state.value[e],set:Q=>{x(X=>{jt(X,Q)})}}),r._p.forEach(Q=>{jt(E,o.run(()=>Q({store:E,app:r._a,pinia:r,options:a})))}),y&&i&&s.hydrate&&s.hydrate(E.$state,y),c=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function _i(e,t,s){let r,n;const i=typeof t=="function";typeof e=="string"?(r=e,n=i?s:t):(n=e,r=e.id);function o(a,l){const c=Za();return a=a||(c?ze(wi,null):null),a&&on(a),a=bi,a._s.has(r)||(i?xl(r,t,n,a):Md(r,n,a)),a._s.get(r)}return o.$id=r,o}function os(e){{const t=se(e),s={};for(const r in t){const n=t[r];n.effect?s[r]=H({get:()=>e[r],set(i){e[r]=i}}):(be(n)||$t(n))&&(s[r]=qc(e,r))}return s}}const Ld=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>rt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ls);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class xi extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class Ud extends xi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dd extends xi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Bd extends xi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qn;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qn||(qn={}));var Nd=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Fd{constructor(t,{headers:s={},customFetch:r,region:n=qn.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=Ld(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return Nd(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(y=>{throw new Ud(y)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new Dd(u);if(!u.ok)throw new Bd(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield u.json():p==="application/octet-stream"?h=yield u.blob():p==="text/event-stream"?h=u:p==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(n){return{data:null,error:n}}})}}function zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var Se={},ps={},gs={},ms={},vs={},ys={},qd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rs=qd();const Hd=Rs.fetch,Sl=Rs.fetch.bind(Rs),kl=Rs.Headers,Gd=Rs.Request,Kd=Rs.Response,Ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:kl,Request:Gd,Response:Kd,default:Sl,fetch:Hd},Symbol.toStringTag,{value:"Module"})),Wd=Vd(Ls);var $r={},mo;function El(){if(mo)return $r;mo=1,Object.defineProperty($r,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return $r.default=e,$r}var vo;function $l(){if(vo)return ys;vo=1;var e=ys&&ys.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ys,"__esModule",{value:!0});const t=e(Wd),s=e(El());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,p;let h=null,y=null,b=null,x=c.status,S=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=E:y=JSON.parse(E))}const m=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),w=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");m&&w&&w.length>1&&(b=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,x=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const m=await c.text();try{h=JSON.parse(m),Array.isArray(h)&&c.status===404&&(y=[],h=null,x=200,S="OK")}catch{c.status===404&&m===""?(x=204,S="No Content"):h={message:m}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,x=200,S="OK"),h&&this.shouldThrowOnError)throw new s.default(h)}return{error:h,data:y,count:b,status:x,statusText:S}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,f,p;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=c==null?void 0:c.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return ys.default=r,ys}var yo;function Cl(){if(yo)return vs;yo=1;var e=vs&&vs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vs,"__esModule",{value:!0});const t=e($l());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const f=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`,c==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return vs.default=s,vs}var bo;function Si(){if(bo)return ms;bo=1;var e=ms&&ms.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ms,"__esModule",{value:!0});const t=e(Cl());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ms.default=s,ms}var wo;function Tl(){if(wo)return gs;wo=1;var e=gs&&gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gs,"__esModule",{value:!0});const t=e(Si());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const c=n.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const f=n.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return gs.default=s,gs}var Fs={},zs={},_o;function Jd(){return _o||(_o=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.version=void 0,zs.version="0.0.0-automated"),zs}var xo;function Yd(){if(xo)return Fs;xo=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.DEFAULT_HEADERS=void 0;const e=Jd();return Fs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Fs}var So;function Qd(){if(So)return ps;So=1;var e=ps&&ps.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ps,"__esModule",{value:!0});const t=e(Tl()),s=e(Si()),r=Yd();class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let f;const p=new URL(`${this.url}/rpc/${o}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{p.searchParams.append(b,x)})):(f="POST",h=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new s.default({method:f,url:p,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return ps.default=n,ps}var ko;function Xd(){if(ko)return Se;ko=1;var e=Se&&Se.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Se,"__esModule",{value:!0}),Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const t=e(Qd());Se.PostgrestClient=t.default;const s=e(Tl());Se.PostgrestQueryBuilder=s.default;const r=e(Si());Se.PostgrestFilterBuilder=r.default;const n=e(Cl());Se.PostgrestTransformBuilder=n.default;const i=e($l());Se.PostgrestBuilder=i.default;const o=e(El());return Se.PostgrestError=o.default,Se.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Se}var Zd=Xd();const ef=zd(Zd),{PostgrestClient:tf,PostgrestQueryBuilder:vy,PostgrestFilterBuilder:yy,PostgrestTransformBuilder:by,PostgrestBuilder:wy,PostgrestError:_y}=ef,sf="2.11.2",rf={"X-Client-Info":`realtime-js/${sf}`},nf="1.0.0",Pl=1e4,of=1e3;var Ps;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ps||(Ps={}));var Ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ke||(Ke={}));var st;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(st||(st={}));var Hn;(function(e){e.websocket="websocket"})(Hn||(Hn={}));var Zt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zt||(Zt={}));class af{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Al{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(he||(he={}));const Eo=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=lf(o,e,t,n),i),{})},lf=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?Ol(i,o):Gn(o)},Ol=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return ff(t,s)}switch(e){case he.bool:return cf(t);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return uf(t);case he.json:case he.jsonb:return df(t);case he.timestamp:return hf(t);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Gn(t);default:return Gn(t)}},Gn=e=>e,cf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},df=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ff=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ol(t,a))}return e},hf=e=>typeof e=="string"?e.replace(" ","T"):e,Rl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class _n{constructor(t,s,r={},n=Pl){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $o;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($o||($o={}));class er{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=er.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=er.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=er.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const p=u.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),y=u.filter(x=>h.indexOf(x.presence_ref)<0),b=f.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(a[c]=y),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...p)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,n(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Co;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Co||(Co={}));var To;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(To||(To={}));var xt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class ki{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new _n(this,st.join,this.params,this.timeout),this.rejoinTimer=new Al(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new er(this),this.broadcastEndpointURL=Rl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(xt.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(xt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(xt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,h=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,y=[];for(let b=0;b<h;b++){const x=p[b],{filter:{event:S,schema:k,table:m,filter:w}}=x,E=u&&u[b];if(E&&E.event===S&&E.schema===k&&E.table===m&&E.filter===w)y.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),t==null||t(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(xt.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ke.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new _n(this,st.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new _n(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=st;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(h=>{var y,b,x;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(b=h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(h=>h.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var y,b,x,S,k,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const w=h.id,E=(y=h.filter)===null||y===void 0?void 0:y.event;return w&&((b=s.ids)===null||b===void 0?void 0:b.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(k=(S=h==null?void 0:h.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return w==="*"||w===((m=s==null?void 0:s.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:b,table:x,commit_timestamp:S,type:k,errors:m}=y;p=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:S,eventType:k,new:{},old:{},errors:m}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ki.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(st.close,{},t)}_onError(t){this._on(st.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Eo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Eo(t.columns,t.old_record)),s}}const pf=()=>{},gf=typeof WebSocket<"u",mf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vf{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=rf,this.params={},this.timeout=Pl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pf,this.conn=null,this.sendBuffer=[],this.serializer=new af,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>rt(async()=>{const{default:l}=await Promise.resolve().then(()=>Ls);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Hn.websocket}`,this.httpEndpoint=Rl(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Al(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new yf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),rt(async()=>{const{default:t}=await import("./browser.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nf}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ps.connecting:return Zt.Connecting;case Ps.open:return Zt.Open;case Ps.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}channel(t,s={config:{}}){const r=new ki(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(st.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(of,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(st.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([mf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class yf{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ps.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Ei extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bf extends Ei{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Kn extends Ei{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var wf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const jl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>rt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ls);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},_f=()=>wf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rt(()=>Promise.resolve().then(()=>Ls),void 0)).Response:Response}),Wn=e=>{if(Array.isArray(e))return e.map(s=>Wn(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Wn(r)}),t};var ls=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const xn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xf=(e,t,s)=>ls(void 0,void 0,void 0,function*(){const r=yield _f();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new bf(xn(n),e.status||500))}).catch(n=>{t(new Kn(xn(n),n))}):t(new Kn(xn(e),e))}),Sf=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function wr(e,t,s,r,n,i){return ls(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,Sf(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>xf(l,a,r))})})}function Kr(e,t,s,r){return ls(this,void 0,void 0,function*(){return wr(e,"GET",t,s,r)})}function Dt(e,t,s,r,n){return ls(this,void 0,void 0,function*(){return wr(e,"POST",t,r,n,s)})}function kf(e,t,s,r,n){return ls(this,void 0,void 0,function*(){return wr(e,"PUT",t,r,n,s)})}function Ef(e,t,s,r){return ls(this,void 0,void 0,function*(){return wr(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Il(e,t,s,r,n){return ls(this,void 0,void 0,function*(){return wr(e,"DELETE",t,r,n,s)})}var Ne=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const $f={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Po={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cf{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=jl(n)}uploadOrUpdate(t,s,r,n){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Po),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ke(i))return{data:null,error:i};throw i}})}upload(t,s,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Po.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ei("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}update(t,s,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}copy(t,s,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield Dt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return Ne(this,void 0,void 0,function*(){try{const n=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}download(t,s){return Ne(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Kr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}info(t){return Ne(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield Kr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wn(r),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}exists(t){return Ne(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Ef(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ke(r)&&r instanceof Kn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}list(t,s,r){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},$f),s),{prefix:t||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Tf="2.7.1",Pf={"X-Client-Info":`storage-js/${Tf}`};var bs=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Af{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},Pf),s),this.fetch=jl(r)}listBuckets(){return bs(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}})}getBucket(t){return bs(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return bs(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return bs(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}emptyBucket(t){return bs(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}deleteBucket(t){return bs(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}}class Of extends Af{constructor(t,s={},r){super(t,s,r)}from(t){return new Cf(this.url,this.headers,t,this.fetch)}}const Rf="2.49.4";let Hs="";typeof Deno<"u"?Hs="deno":typeof document<"u"?Hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hs="react-native":Hs="node";const jf={"X-Client-Info":`supabase-js-${Hs}/${Rf}`},If={headers:jf},Mf={schema:"public"},Lf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uf={};var Df=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Bf=e=>{let t;return e?t=e:typeof fetch>"u"?t=Sl:t=fetch,(...s)=>t(...s)},Nf=()=>typeof Headers>"u"?kl:Headers,Ff=(e,t,s)=>{const r=Bf(s),n=Nf();return(i,o)=>Df(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var zf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Vf(e){return e.replace(/\/$/,"")}function qf(e,t){const{db:s,auth:r,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i),accessToken:()=>zf(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const Ml="2.69.1",Ss=30*1e3,Jn=3,Sn=Jn*Ss,Hf="http://localhost:9999",Gf="supabase.auth.token",Kf={"X-Client-Info":`gotrue-js/${Ml}`},Yn="X-Supabase-Api-Version",Ll={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jf=6e5;class $i extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Yf extends $i{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Qf(e){return Y(e)&&e.name==="AuthApiError"}class Ul extends $i{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ht extends $i{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class It extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xf(e){return Y(e)&&e.name==="AuthSessionMissingError"}class kn extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cr extends Ht{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Tr extends Ht{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zf(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ao extends Ht{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qn extends Ht{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function En(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class Oo extends Ht{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class tr extends Ht{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jo=` 	
\r=`.split(""),eh=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jo.length;t+=1)e[jo[t].charCodeAt(0)]=-2;for(let t=0;t<Ro.length;t+=1)e[Ro[t].charCodeAt(0)]=t;return e})();function Dl(e,t,s){const r=eh[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Io(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{rh(o,r,s)};for(let o=0;o<e.length;o+=1)Dl(e.charCodeAt(o),n,i);return t.join("")}function th(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sh(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}th(r,t)}}function rh(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function nh(e){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Dl(e.charCodeAt(n),s,r);return new Uint8Array(t)}function ih(e){const t=[];return sh(e,s=>t.push(s)),new Uint8Array(t)}function oh(e){return Math.round(Date.now()/1e3)+e}function ah(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dt=()=>typeof window<"u"&&typeof document<"u",Yt={tested:!1,writable:!1},sr=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yt.tested)return Yt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yt.tested=!0,Yt.writable=!0}catch{Yt.tested=!0,Yt.writable=!1}return Yt.writable};function lh(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Bl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>rt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ls);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},ch=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Nl=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Pr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ar=async(e,t)=>{await e.removeItem(t)};class an{constructor(){this.promise=new an.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}an.promiseConstructor=Promise;function $n(e){const t=e.split(".");if(t.length!==3)throw new tr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Wf.test(t[r]))throw new tr("JWT not in base64url format");return{header:JSON.parse(Io(t[0])),payload:JSON.parse(Io(t[1])),signature:nh(t[2]),raw:{header:t[0],payload:t[1]}}}async function uh(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dh(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function fh(e){return("0"+e.toString(16)).substr(-2)}function hh(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,fh).join("")}async function ph(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function gh(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await ph(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ws(e,t,s=!1){const r=hh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Nl(e,`${t}-code-verifier`,n);const i=await gh(r);return[i,r===i?"plain":"s256"]}const mh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vh(e){const t=e.headers.get(Yn);if(!t||!t.match(mh))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yh(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bh(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wh=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const Xt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_h=[502,503,504];async function Mo(e){var t;if(!ch(e))throw new Qn(Xt(e),0);if(_h.includes(e.status))throw new Qn(Xt(e),e.status);let s;try{s=await e.json()}catch(i){throw new Ul(Xt(i),i)}let r;const n=vh(e);if(n&&n.getTime()>=Ll["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Oo(Xt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new It}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Oo(Xt(s),e.status,s.weak_password.reasons);throw new Yf(Xt(s),e.status||500,r)}const xh=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function Z(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Yn]||(i[Yn]=Ll["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Sh(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Sh(e,t,s,r,n,i){const o=xh(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Qn(Xt(l),0)}if(a.ok||await Mo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Mo(l)}}function Mt(e){var t;let s=null;Ch(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=oh(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Lo(e){const t=Mt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kh(e){return{data:e,error:null}}function Eh(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=wh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $h(e){return e}function Ch(e){return e.access_token&&e.refresh_token&&e.expires_in}var Th=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class Ph{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Bl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Nt})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=Th(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Eh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Y(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nt})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:$h});if(u.error)throw u.error;const f=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=b}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nt})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Nt})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Nt})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}}const Ah={getItem:e=>sr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{sr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{sr()&&globalThis.localStorage.removeItem(e)}};function Uo(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function Oh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _s={debug:!!(globalThis&&sr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Rh extends Fl{}async function jh(e,t,s){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),_s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw _s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rh(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_s.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Oh();const Ih={url:Hf,storageKey:Gf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Do(e,t,s){return await s()}class fr{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fr.nextInstanceID,fr.nextInstanceID+=1,this.instanceID>0&&dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ih),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ph({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Bl(n.fetch),this.lock=n.lock||Do,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:dt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=jh:this.lock=Do,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:sr()?this.storage=Ah:(this.memoryStorage={},this.storage=Uo(this.memoryStorage)):(this.memoryStorage={},this.storage=Uo(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ml}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=lh(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zf(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Y(s)?{error:s}:{error:new Ul("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Mt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:u,password:f,options:p}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await ws(this.storage,this.storageKey)),i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:y},xform:Mt})}else if("phone"in t){const{phone:u,password:f,options:p}=t;i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Mt})}else throw new Cr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Lo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Lo})}else throw new Cr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new kn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await Pr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Mt});if(await Ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new kn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Mt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new kn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ws(this.storage,this.storageKey));const{error:f}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Cr("You must provide either an email or phone number.")}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Mt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ws(this.storage,this.storageKey)),await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:kh})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new It;const{error:n}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await Z(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await Z(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Cr("You must provide either an email or phone number and a type")}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Sn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Nt})})}catch(s){if(Y(s))return Xf(s)&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new It;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ws(this.storage,this.storageKey));const{data:c,error:u}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Nt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new It;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=$n(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Y(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new It;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!dt())throw new Tr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ao("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ao("No code detected.");const{data:k,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Tr("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const y=p-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,u);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const S={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(r){if(Y(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Qf(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=ah(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ws(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return dt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Y(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await dh(async n=>(n>0&&await uh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&En(i)&&Date.now()+o-r<Ss})}catch(r){if(this._debug(s,"error",r),Y(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),dt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Pr(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Sn;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Sn}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),En(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new an;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new It;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),Y(i)){const o={session:null,error:i};return En(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Nl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ar(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ss}ms, refresh threshold is ${Jn} ticks`),n<=Jn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ws(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$n(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Jf>Date.now()))return r;const{data:n,error:i}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new tr("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===t),!r)throw new tr("No matching signing key found in JWKS");return r}async getClaims(t,s={keys:[]}){try{let r=t;if(!r){const{data:h,error:y}=await this.getSession();if(y||!h.session)return{data:null,error:y};r=h.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=$n(r);if(yh(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:n,signature:o},error:null}}const c=bh(n.alg),u=await this.fetchJwk(n.kid,s),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,ih(`${a}.${l}`)))throw new tr("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}}fr.nextInstanceID=0;const Mh=fr;class Lh extends Mh{constructor(t){super(t)}}var Uh=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Dh{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Vf(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Mf,realtime:Uf,auth:Object.assign(Object.assign({},Lf),{storageKey:l}),global:If},u=qf(r??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Ff(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new tf(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Fd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Of(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Uh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lh({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new vf(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bh=(e,t,s)=>new Dh(e,t,s),Nh="https://dmrtbyrtvemnohwhlvnr.supabase.co",Fh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRtcnRieXJ0dmVtbm9od2hsdm5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM3MDA5MTYsImV4cCI6MjA1OTI3NjkxNn0.PCE32Yr8-2QQHtqXg1El5J3J7DW-E75jUWpt1iAo7l4";console.log("Supabase URL available:",!0);console.log("Supabase key available:",!0);const xe=Bh(Nh,Fh),Ee=_i("user",{state:()=>({user:null,isLoading:!1,isGuestMode:!1}),actions:{setUser(e){this.user=e},async initialize(){this.isLoading=!0;try{if(localStorage.getItem("guestMode")==="true"){this.isGuestMode=!0,console.log("Initialized in guest mode");return}const{data:t,error:s}=await xe.auth.getUser();if(s){console.error("Error getting user:",s.message);return}t!=null&&t.user?(this.user=t.user,console.log("User authenticated:",this.user.email)):console.log("No authenticated user found")}catch(e){console.error("Error in initialize:",e)}finally{this.isLoading=!1}},async setGuestMode(e){if(e){const t=ho();if(t){const s=Object.keys(t.state.value);if(s.includes("transactions")){const{useTransactionStore:r}=await rt(async()=>{const{useTransactionStore:n}=await Promise.resolve().then(()=>Bo);return{useTransactionStore:n}},void 0);r().$reset()}if(s.includes("budgets")){const{useBudgetStore:r}=await rt(async()=>{const{useBudgetStore:n}=await Promise.resolve().then(()=>No);return{useBudgetStore:n}},void 0);r().$reset()}}}this.isGuestMode=e,localStorage.setItem("guestMode",e.toString()),console.log("Guest mode set to:",e)},async signIn(e,t,s={}){this.isLoading=!0;try{const{data:r,error:n}=await xe.auth.signInWithPassword({email:e,password:t,options:s});if(n)throw n;return r.user?(this.user=r.user,this.isGuestMode=!1,localStorage.removeItem("guestMode"),this.setUser(r.user),{success:!0}):{success:!1,error:"No user data returned"}}catch(r){const n=r instanceof Error?r.message:"Failed to sign in";return console.error("Sign in error:",n),{success:!1,error:n}}finally{this.isLoading=!1}},async signUp(e){this.isLoading=!0;try{const{data:t,error:s}=await xe.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.first_name,last_name:e.last_name}}});if(s)throw s;if(t.user){const{error:r}=await xe.from("profiles").insert({id:t.user.id,email:t.user.email,first_name:e.first_name,last_name:e.last_name,currency:"",theme:"light"});r&&console.error("Profile creation error:",r)}return{success:!0}}catch(t){const s=t instanceof Error?t.message:"Failed to sign up";return console.error("Sign up error:",s),{success:!1,error:s}}finally{this.isLoading=!1}},async signOut(){this.isLoading=!0;try{const{error:e}=await xe.auth.signOut();if(e)throw e;this.user=null,this.isGuestMode=!1,localStorage.removeItem("guestMode"),localStorage.removeItem("transactions"),localStorage.removeItem("budgets"),localStorage.removeItem("guest_transactions"),localStorage.removeItem("guest_budgets");const t=ho();if(t){const s=Object.keys(t.state.value);if(s.includes("transactions")){const{useTransactionStore:r}=await rt(async()=>{const{useTransactionStore:n}=await Promise.resolve().then(()=>Bo);return{useTransactionStore:n}},void 0);r().$reset()}if(s.includes("budgets")){const{useBudgetStore:r}=await rt(async()=>{const{useBudgetStore:n}=await Promise.resolve().then(()=>No);return{useBudgetStore:n}},void 0);r().$reset()}}return{success:!0}}catch(e){const t=e instanceof Error?e.message:"Failed to sign out";return console.error("Sign out error:",t),{success:!1,error:t}}finally{this.isLoading=!1}}}}),cs=_i("transactions",{state:()=>({transactions:[],isLoading:!1}),getters:{getTransactionsByMonth:e=>t=>e.transactions.filter(s=>s.date.startsWith(t)),availableMonths:e=>{const t=new Set(e.transactions.map(s=>s.date.substring(0,7)));return Array.from(t).sort().reverse()},currentMonthTransactions:e=>{const t=new Date().toISOString().substring(0,7);return e.transactions.filter(s=>s.date.startsWith(t))}},actions:{async loadTransactions(){var t;const e=Ee();if(this.transactions=[],e.isGuestMode){try{const s=localStorage.getItem("guest_transactions");s&&(this.transactions=JSON.parse(s)),console.log("Loaded transactions from localStorage:",this.transactions.length)}catch(s){console.error("Error loading transactions from localStorage:",s)}return}try{if(this.isLoading=!0,!((t=e.user)!=null&&t.id)){console.log("No user ID available, cannot load transactions");return}console.log("Loading transactions for user:",e.user.id);const{data:s,error:r}=await xe.from("transactions").select("*").eq("user_id",e.user.id).order("date",{ascending:!1});if(r)throw console.error("Supabase error loading transactions:",r),r;this.transactions=s||[],console.log("Loaded transactions from Supabase:",this.transactions.length)}catch(s){console.error("Error loading transactions from Supabase:",s)}finally{this.isLoading=!1}},async addTransaction(e){var s;const t=Ee();if(t.isGuestMode){const r={...e,id:crypto.randomUUID()};return this.transactions.push(r),this.saveToLocalStorage(),r}try{if(!((s=t.user)!=null&&s.id))return;const r={...e,user_id:t.user.id},{data:n,error:i}=await xe.from("transactions").insert(r).select().single();if(i)throw i;if(n)return this.transactions.push(n),n}catch(r){console.error("Error adding transaction to Supabase:",r)}},async updateTransaction(e){var s;const t=Ee();if(t.isGuestMode){const r=this.transactions.findIndex(n=>n.id===e.id);r!==-1&&(this.transactions[r]=e,this.saveToLocalStorage());return}try{if(!((s=t.user)!=null&&s.id))return;const{error:r}=await xe.from("transactions").update(e).eq("id",e.id).eq("user_id",t.user.id);if(r)throw r;const n=this.transactions.findIndex(i=>i.id===e.id);n!==-1&&(this.transactions[n]=e)}catch(r){console.error("Error updating transaction in Supabase:",r)}},async removeTransaction(e){var s;const t=Ee();if(t.isGuestMode){this.transactions=this.transactions.filter(r=>r.id!==e),this.saveToLocalStorage();return}try{if(!((s=t.user)!=null&&s.id))return;const{error:r}=await xe.from("transactions").delete().eq("id",e).eq("user_id",t.user.id);if(r)throw r;this.transactions=this.transactions.filter(n=>n.id!==e)}catch(r){console.error("Error removing transaction from Supabase:",r)}},saveToLocalStorage(){try{Ee().isGuestMode&&localStorage.setItem("guest_transactions",JSON.stringify(this.transactions))}catch(e){console.error("Error saving transactions to localStorage:",e)}}}}),Bo=Object.freeze(Object.defineProperty({__proto__:null,useTransactionStore:cs},Symbol.toStringTag,{value:"Module"})),Us=_i("budgets",{state:()=>({budgets:[],currentMonth:new Date().toISOString().substring(0,7),isLoading:!1}),actions:{async loadBudgets(){var t;const e=Ee();if(this.budgets=[],e.isGuestMode){try{const s=localStorage.getItem("guest_budgets");s&&(this.budgets=JSON.parse(s)),console.log("Loaded budgets from localStorage:",this.budgets.length)}catch(s){console.error("Error loading budgets from localStorage:",s)}return}try{if(this.isLoading=!0,!((t=e.user)!=null&&t.id)){console.log("No user ID available, cannot load budgets");return}console.log("Loading budgets for user:",e.user.id);const{data:s,error:r}=await xe.from("budgets").select("*").eq("user_id",e.user.id).eq("month",this.currentMonth);if(r)throw console.error("Supabase error loading budgets:",r),r;this.budgets=s||[],console.log("Loaded budgets from Supabase:",this.budgets.length)}catch(s){console.error("Error loading budgets from Supabase:",s)}finally{this.isLoading=!1}},async addBudget(e){var s;const t=Ee();if(t.isGuestMode){const r={...e,id:crypto.randomUUID()};return this.budgets.push(r),this.saveToLocalStorage(),r}try{if(!((s=t.user)!=null&&s.id)){console.error("Cannot add budget: No user ID available");return}console.log("Adding budget to Supabase for user:",t.user.id);const r={...e,user_id:t.user.id,month:this.currentMonth};console.log("Budget data being sent:",r);const{data:n,error:i}=await xe.from("budgets").insert(r).select().single();if(i)throw console.error("Supabase error adding budget:",i),i;if(n)return console.log("Budget successfully added to Supabase:",n),this.budgets.push(n),n;console.warn("No data returned from Supabase after adding budget")}catch(r){console.error("Error adding budget to Supabase:",r)}},async updateBudget(e,t){var n;const s=this.budgets.find(i=>i.category===e);if(!s)return;s.budget_limit=t;const r=Ee();if(r.isGuestMode){this.saveToLocalStorage();return}try{if(!((n=r.user)!=null&&n.id)){console.error("Cannot update budget: No user ID available");return}console.log("Updating budget in Supabase:",s.id);const{id:i,...o}=s,a={...o,user_id:r.user.id,month:this.currentMonth};console.log("Budget data being updated:",a);const{error:l}=await xe.from("budgets").update(a).eq("id",i).eq("user_id",r.user.id);if(l)throw console.error("Supabase error updating budget:",l),l;console.log("Budget successfully updated in Supabase")}catch(i){console.error("Error updating budget in Supabase:",i)}},async removeBudget(e){var s;const t=Ee();if(t.isGuestMode){this.budgets=this.budgets.filter(r=>r.id!==e),this.saveToLocalStorage();return}try{if(!((s=t.user)!=null&&s.id))return;const{error:r}=await xe.from("budgets").delete().eq("id",e).eq("user_id",t.user.id);if(r)throw r;this.budgets=this.budgets.filter(n=>n.id!==e)}catch(r){console.error("Error removing budget from Supabase:",r)}},saveToLocalStorage(){try{Ee().isGuestMode&&localStorage.setItem("guest_budgets",JSON.stringify(this.budgets))}catch(e){console.error("Error saving budgets to localStorage:",e)}},async checkMonthlyReset(){var s;const e=Ee(),t=new Date().toISOString().substring(0,7);this.currentMonth!==t&&(this.currentMonth=t,!e.isGuestMode&&((s=e.user)!=null&&s.id)&&await this.loadBudgets())}}}),No=Object.freeze(Object.defineProperty({__proto__:null,useBudgetStore:Us},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ks=typeof document<"u";function zl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&zl(e.default)}const ne=Object.assign;function Cn(e,t){const s={};for(const r in t){const n=t[r];s[r]=it(n)?n.map(e):e(n)}return s}const rr=()=>{},it=Array.isArray,Vl=/#/g,Vh=/&/g,qh=/\//g,Hh=/=/g,Gh=/\?/g,ql=/\+/g,Kh=/%5B/g,Wh=/%5D/g,Hl=/%5E/g,Jh=/%60/g,Gl=/%7B/g,Yh=/%7C/g,Kl=/%7D/g,Qh=/%20/g;function Ci(e){return encodeURI(""+e).replace(Yh,"|").replace(Kh,"[").replace(Wh,"]")}function Xh(e){return Ci(e).replace(Gl,"{").replace(Kl,"}").replace(Hl,"^")}function Xn(e){return Ci(e).replace(ql,"%2B").replace(Qh,"+").replace(Vl,"%23").replace(Vh,"%26").replace(Jh,"`").replace(Gl,"{").replace(Kl,"}").replace(Hl,"^")}function Zh(e){return Xn(e).replace(Hh,"%3D")}function ep(e){return Ci(e).replace(Vl,"%23").replace(Gh,"%3F")}function tp(e){return e==null?"":ep(e).replace(qh,"%2F")}function hr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const sp=/\/$/,rp=e=>e.replace(sp,"");function Tn(e,t,s="/"){let r,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=ap(r??t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:hr(o)}}function np(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Fo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ip(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&js(t.matched[r],s.matched[n])&&Wl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function js(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!op(e[s],t[s]))return!1;return!0}function op(e,t){return it(e)?zo(e,t):it(t)?zo(t,e):e===t}function zo(e,t){return it(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function ap(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Rt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var pr;(function(e){e.pop="pop",e.push="push"})(pr||(pr={}));var nr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(nr||(nr={}));function lp(e){if(!e)if(ks){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),rp(e)}const cp=/^[^#]+#/;function up(e,t){return e.replace(cp,"#")+t}function dp(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const ln=()=>({left:window.scrollX,top:window.scrollY});function fp(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=dp(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Vo(e,t){return(history.state?history.state.position-t:-1)+e}const Zn=new Map;function hp(e,t){Zn.set(e,t)}function pp(e){const t=Zn.get(e);return Zn.delete(e),t}let gp=()=>location.protocol+"//"+location.host;function Jl(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let a=n.includes(e.slice(i))?e.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Fo(l,"")}return Fo(s,e)+r+n}function mp(e,t,s,r){let n=[],i=[],o=null;const a=({state:p})=>{const h=Jl(e,location),y=s.value,b=t.value;let x=0;if(p){if(s.value=h,t.value=p,o&&o===y){o=null;return}x=b?p.position-b.position:0}else r(h);n.forEach(S=>{S(s.value,y,{delta:x,type:pr.pop,direction:x?x>0?nr.forward:nr.back:nr.unknown})})};function l(){o=s.value}function c(p){n.push(p);const h=()=>{const y=n.indexOf(p);y>-1&&n.splice(y,1)};return i.push(h),h}function u(){const{history:p}=window;p.state&&p.replaceState(ne({},p.state,{scroll:ln()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function qo(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?ln():null}}function vp(e){const{history:t,location:s}=window,r={value:Jl(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),p=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+l:gp()+e+l;try{t[u?"replaceState":"pushState"](c,"",p),n.value=c}catch(h){console.error(h),s[u?"replace":"assign"](p)}}function o(l,c){const u=ne({},t.state,qo(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=ne({},n.value,t.state,{forward:l,scroll:ln()});i(u.current,u,!0);const f=ne({},qo(r.value,l,null),{position:u.position+1},c);i(l,f,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function yp(e){e=lp(e);const t=vp(e),s=mp(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=ne({location:"",base:e,go:r,createHref:up.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function bp(e){return typeof e=="string"||e&&typeof e=="object"}function Yl(e){return typeof e=="string"||typeof e=="symbol"}const Ql=Symbol("");var Ho;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ho||(Ho={}));function Is(e,t){return ne(new Error,{type:e,[Ql]:!0},t)}function wt(e,t){return e instanceof Error&&Ql in e&&(t==null||!!(e.type&t))}const Go="[^/]+?",wp={sensitive:!1,strict:!1,start:!0,end:!0},_p=/[.+*?^${}()[\]/\\]/g;function xp(e,t){const s=ne({},wp,t),r=[];let n=s.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];s.strict&&!c.length&&(n+="/");for(let f=0;f<c.length;f++){const p=c[f];let h=40+(s.sensitive?.25:0);if(p.type===0)f||(n+="/"),n+=p.value.replace(_p,"\\$&"),h+=40;else if(p.type===1){const{value:y,repeatable:b,optional:x,regexp:S}=p;i.push({name:y,repeatable:b,optional:x});const k=S||Go;if(k!==Go){h+=10;try{new RegExp(`(${k})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${y}" (${k}): `+w.message)}}let m=b?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;f||(m=x&&c.length<2?`(?:/${m})`:"/"+m),x&&(m+="?"),n+=m,h+=20,x&&(h+=-8),b&&(h+=-20),k===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(s.strict&&s.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let p=1;p<u.length;p++){const h=u[p]||"",y=i[p-1];f[y.name]=h&&y.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const p of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of p)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:b,optional:x}=h,S=y in c?c[y]:"";if(it(S)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const k=it(S)?S.join("/"):S;if(!k)if(x)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=k}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Sp(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Xl(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=Sp(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Ko(r))return 1;if(Ko(n))return-1}return n.length-r.length}function Ko(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const kp={type:0,value:""},Ep=/[a-zA-Z0-9_]/;function $p(e){if(!e)return[[]];if(e==="/")return[[kp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${s})/"${c}": ${h}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(s===0?i.push({type:0,value:c}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),s=1):p();break;case 4:p(),s=r;break;case 1:l==="("?s=2:Ep.test(l)?p():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),n}function Cp(e,t,s){const r=xp($p(e.path),s),n=ne(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function Tp(e,t){const s=[],r=new Map;t=Qo({strict:!1,end:!0,sensitive:!1},t);function n(f){return r.get(f)}function i(f,p,h){const y=!h,b=Jo(f);b.aliasOf=h&&h.record;const x=Qo(t,f),S=[b];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const E of w)S.push(Jo(ne({},b,{components:h?h.record.components:b.components,path:E,aliasOf:h?h.record:b})))}let k,m;for(const w of S){const{path:E}=w;if(p&&E[0]!=="/"){const N=p.record.path,te=N[N.length-1]==="/"?"":"/";w.path=p.record.path+(E&&te+E)}if(k=Cp(w,p,x),h?h.alias.push(k):(m=m||k,m!==k&&m.alias.push(k),y&&f.name&&!Yo(k)&&o(f.name)),Zl(k)&&l(k),b.children){const N=b.children;for(let te=0;te<N.length;te++)i(N[te],k,h&&h.children[te])}h=h||k}return m?()=>{o(m)}:rr}function o(f){if(Yl(f)){const p=r.get(f);p&&(r.delete(f),s.splice(s.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=s.indexOf(f);p>-1&&(s.splice(p,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return s}function l(f){const p=Op(f,s);s.splice(p,0,f),f.record.name&&!Yo(f)&&r.set(f.record.name,f)}function c(f,p){let h,y={},b,x;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw Is(1,{location:f});x=h.record.name,y=ne(Wo(p.params,h.keys.filter(m=>!m.optional).concat(h.parent?h.parent.keys.filter(m=>m.optional):[]).map(m=>m.name)),f.params&&Wo(f.params,h.keys.map(m=>m.name))),b=h.stringify(y)}else if(f.path!=null)b=f.path,h=s.find(m=>m.re.test(b)),h&&(y=h.parse(b),x=h.record.name);else{if(h=p.name?r.get(p.name):s.find(m=>m.re.test(p.path)),!h)throw Is(1,{location:f,currentLocation:p});x=h.record.name,y=ne({},p.params,f.params),b=h.stringify(y)}const S=[];let k=h;for(;k;)S.unshift(k.record),k=k.parent;return{name:x,path:b,params:y,matched:S,meta:Ap(S)}}e.forEach(f=>i(f));function u(){s.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function Wo(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Jo(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Pp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Pp(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function Yo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ap(e){return e.reduce((t,s)=>ne(t,s.meta),{})}function Qo(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function Op(e,t){let s=0,r=t.length;for(;s!==r;){const i=s+r>>1;Xl(e,t[i])<0?r=i:s=i+1}const n=Rp(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function Rp(e){let t=e;for(;t=t.parent;)if(Zl(t)&&Xl(e,t)===0)return t}function Zl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function jp(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(ql," "),o=i.indexOf("="),a=hr(o<0?i:i.slice(0,o)),l=o<0?null:hr(i.slice(o+1));if(a in t){let c=t[a];it(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Xo(e){let t="";for(let s in e){const r=e[s];if(s=Zh(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(it(r)?r.map(i=>i&&Xn(i)):[r&&Xn(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Ip(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=it(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const Mp=Symbol(""),Zo=Symbol(""),cn=Symbol(""),Ti=Symbol(""),ei=Symbol("");function Vs(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Bt(e,t,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=p=>{p===!1?l(Is(4,{from:s,to:t})):p instanceof Error?l(p):bp(p)?l(Is(2,{from:t,to:p})):(o&&r.enterCallbacks[n]===o&&typeof p=="function"&&o.push(p),a())},u=i(()=>e.call(r&&r.instances[n],t,s,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(p=>l(p))})}function Pn(e,t,s,r,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(zl(l)){const u=(l.__vccOpts||l)[t];u&&i.push(Bt(u,s,r,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=zh(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[t];return h&&Bt(h,s,r,o,a,n)()}))}}return i}function ea(e){const t=ze(cn),s=ze(Ti),r=H(()=>{const l=Ae(e.to);return t.resolve(l)}),n=H(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=s.matched;if(!u||!f.length)return-1;const p=f.findIndex(js.bind(null,u));if(p>-1)return p;const h=ta(l[c-2]);return c>1&&ta(u)===h&&f[f.length-1].path!==h?f.findIndex(js.bind(null,l[c-2])):p}),i=H(()=>n.value>-1&&Np(s.params,r.value.params)),o=H(()=>n.value>-1&&n.value===s.matched.length-1&&Wl(s.params,r.value.params));function a(l={}){if(Bp(l)){const c=t[Ae(e.replace)?"replace":"push"](Ae(e.to)).catch(rr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:H(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Lp(e){return e.length===1?e[0]:e}const Up=Ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ea,setup(e,{slots:t}){const s=mr(ea(e)),{options:r}=ze(cn),n=H(()=>({[sa(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[sa(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Lp(t.default(s));return e.custom?i:dr("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Dp=Up;function Bp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Np(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!it(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function ta(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sa=(e,t,s)=>e??t??s,Fp=Ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=ze(ei),n=H(()=>e.route||r.value),i=ze(Zo,0),o=H(()=>{let c=Ae(i);const{matched:u}=n.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=H(()=>n.value.matched[o.value]);Qs(Zo,H(()=>o.value+1)),Qs(Mp,a),Qs(ei,n);const l=K();return Ts(()=>[l.value,a.value,e.name],([c,u,f],[p,h,y])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!js(u,h)||!p)&&(u.enterCallbacks[f]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=n.value,u=e.name,f=a.value,p=f&&f.components[u];if(!p)return ra(s.default,{Component:p,route:c});const h=f.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,x=dr(p,ne({},y,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return ra(s.default,{Component:x,route:c})||x}}});function ra(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const zp=Fp;function Vp(e){const t=Tp(e.routes,e),s=e.parseQuery||jp,r=e.stringifyQuery||Xo,n=e.history,i=Vs(),o=Vs(),a=Vs(),l=Dc(Rt);let c=Rt;ks&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Cn.bind(null,C=>""+C),f=Cn.bind(null,tp),p=Cn.bind(null,hr);function h(C,B){let L,F;return Yl(C)?(L=t.getRecordMatcher(C),F=B):F=C,t.addRoute(F,L)}function y(C){const B=t.getRecordMatcher(C);B&&t.removeRoute(B)}function b(){return t.getRoutes().map(C=>C.record)}function x(C){return!!t.getRecordMatcher(C)}function S(C,B){if(B=ne({},B||l.value),typeof C=="string"){const _=Tn(s,C,B.path),$=t.resolve({path:_.path},B),P=n.createHref(_.fullPath);return ne(_,$,{params:p($.params),hash:hr(_.hash),redirectedFrom:void 0,href:P})}let L;if(C.path!=null)L=ne({},C,{path:Tn(s,C.path,B.path).path});else{const _=ne({},C.params);for(const $ in _)_[$]==null&&delete _[$];L=ne({},C,{params:f(_)}),B.params=f(B.params)}const F=t.resolve(L,B),le=C.hash||"";F.params=u(p(F.params));const g=np(r,ne({},C,{hash:Xh(le),path:F.path})),v=n.createHref(g);return ne({fullPath:g,hash:le,query:r===Xo?Ip(C.query):C.query||{}},F,{redirectedFrom:void 0,href:v})}function k(C){return typeof C=="string"?Tn(s,C,l.value.path):ne({},C)}function m(C,B){if(c!==C)return Is(8,{from:B,to:C})}function w(C){return te(C)}function E(C){return w(ne(k(C),{replace:!0}))}function N(C){const B=C.matched[C.matched.length-1];if(B&&B.redirect){const{redirect:L}=B;let F=typeof L=="function"?L(C):L;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=k(F):{path:F},F.params={}),ne({query:C.query,hash:C.hash,params:F.path!=null?{}:C.params},F)}}function te(C,B){const L=c=S(C),F=l.value,le=C.state,g=C.force,v=C.replace===!0,_=N(L);if(_)return te(ne(k(_),{state:typeof _=="object"?ne({},le,_.state):le,force:g,replace:v}),B||L);const $=L;$.redirectedFrom=B;let P;return!g&&ip(r,F,L)&&(P=Is(16,{to:$,from:F}),ot(F,F,!0,!1)),(P?Promise.resolve(P):ye($,F)).catch(T=>wt(T)?wt(T,2)?T:Ot(T):re(T,$,F)).then(T=>{if(T){if(wt(T,2))return te(ne({replace:v},k(T.to),{state:typeof T.to=="object"?ne({},le,T.to.state):le,force:g}),B||$)}else T=Ve($,F,!0,v,le);return Re($,F,T),T})}function Q(C,B){const L=m(C,B);return L?Promise.reject(L):Promise.resolve()}function X(C){const B=ds.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(C):C()}function ye(C,B){let L;const[F,le,g]=qp(C,B);L=Pn(F.reverse(),"beforeRouteLeave",C,B);for(const _ of F)_.leaveGuards.forEach($=>{L.push(Bt($,C,B))});const v=Q.bind(null,C,B);return L.push(v),Qe(L).then(()=>{L=[];for(const _ of i.list())L.push(Bt(_,C,B));return L.push(v),Qe(L)}).then(()=>{L=Pn(le,"beforeRouteUpdate",C,B);for(const _ of le)_.updateGuards.forEach($=>{L.push(Bt($,C,B))});return L.push(v),Qe(L)}).then(()=>{L=[];for(const _ of g)if(_.beforeEnter)if(it(_.beforeEnter))for(const $ of _.beforeEnter)L.push(Bt($,C,B));else L.push(Bt(_.beforeEnter,C,B));return L.push(v),Qe(L)}).then(()=>(C.matched.forEach(_=>_.enterCallbacks={}),L=Pn(g,"beforeRouteEnter",C,B,X),L.push(v),Qe(L))).then(()=>{L=[];for(const _ of o.list())L.push(Bt(_,C,B));return L.push(v),Qe(L)}).catch(_=>wt(_,8)?_:Promise.reject(_))}function Re(C,B,L){a.list().forEach(F=>X(()=>F(C,B,L)))}function Ve(C,B,L,F,le){const g=m(C,B);if(g)return g;const v=B===Rt,_=ks?history.state:{};L&&(F||v?n.replace(C.fullPath,ne({scroll:v&&_&&_.scroll},le)):n.push(C.fullPath,le)),l.value=C,ot(C,B,L,v),Ot()}let Ue;function Kt(){Ue||(Ue=n.listen((C,B,L)=>{if(!_r.listening)return;const F=S(C),le=N(F);if(le){te(ne(le,{replace:!0,force:!0}),F).catch(rr);return}c=F;const g=l.value;ks&&hp(Vo(g.fullPath,L.delta),ln()),ye(F,g).catch(v=>wt(v,12)?v:wt(v,2)?(te(ne(k(v.to),{force:!0}),F).then(_=>{wt(_,20)&&!L.delta&&L.type===pr.pop&&n.go(-1,!1)}).catch(rr),Promise.reject()):(L.delta&&n.go(-L.delta,!1),re(v,F,g))).then(v=>{v=v||Ve(F,g,!1),v&&(L.delta&&!wt(v,8)?n.go(-L.delta,!1):L.type===pr.pop&&wt(v,20)&&n.go(-1,!1)),Re(F,g,v)}).catch(rr)}))}let At=Vs(),me=Vs(),J;function re(C,B,L){Ot(C);const F=me.list();return F.length?F.forEach(le=>le(C,B,L)):console.error(C),Promise.reject(C)}function yt(){return J&&l.value!==Rt?Promise.resolve():new Promise((C,B)=>{At.add([C,B])})}function Ot(C){return J||(J=!C,Kt(),At.list().forEach(([B,L])=>C?L(C):B()),At.reset()),C}function ot(C,B,L,F){const{scrollBehavior:le}=e;if(!ks||!le)return Promise.resolve();const g=!L&&pp(Vo(C.fullPath,0))||(F||!L)&&history.state&&history.state.scroll||null;return en().then(()=>le(C,B,g)).then(v=>v&&fp(v)).catch(v=>re(v,C,B))}const De=C=>n.go(C);let us;const ds=new Set,_r={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:b,resolve:S,options:e,push:w,replace:E,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:me.add,isReady:yt,install(C){const B=this;C.component("RouterLink",Dp),C.component("RouterView",zp),C.config.globalProperties.$router=B,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>Ae(l)}),ks&&!us&&l.value===Rt&&(us=!0,w(n.location).catch(le=>{}));const L={};for(const le in Rt)Object.defineProperty(L,le,{get:()=>l.value[le],enumerable:!0});C.provide(cn,B),C.provide(Ti,Ra(L)),C.provide(ei,l);const F=C.unmount;ds.add(C),C.unmount=function(){ds.delete(C),ds.size<1&&(c=Rt,Ue&&Ue(),Ue=null,l.value=Rt,us=!1,J=!1),F()}}};function Qe(C){return C.reduce((B,L)=>B.then(()=>X(L)),Promise.resolve())}return _r}function qp(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>js(c,a))?r.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(c=>js(c,l))||n.push(l))}return[s,r,n]}function un(){return ze(cn)}function ec(e){return ze(Ti)}const Or=Ce({__name:"SidebarItem",props:{to:{},icon:{type:[Function,Object]},label:{}},setup(e){const t=e,s=ec(),r=H(()=>s.path===t.to),n=ze("closeSidebar"),i=()=>{n&&n()};return(o,a)=>{const l=lr("router-link");return O(),We(l,{to:o.to,class:ae(["flex items-center gap-3 px-2 py-2 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white transition-colors",{"bg-blue-600 !text-white":r.value}]),onClick:i},{default:zr(()=>[(O(),We(uu(o.icon),{class:ae(["h-5 w-5 text-blue-500",{"text-white":r.value}])},null,8,["class"])),d("span",null,D(o.label),1)]),_:1},8,["to","class"])}}});/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=({size:e,strokeWidth:t=2,absoluteStrokeWidth:s,color:r,iconNode:n,name:i,class:o,...a},{slots:l})=>dr("svg",{...Rr,width:e||Rr.width,height:e||Rr.height,stroke:r||Rr.stroke,"stroke-width":s?Number(t)*24/Number(e):t,class:["lucide",`lucide-${Hp(i??"icon")}`],...a},[...n.map(c=>dr(...c)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(e,t)=>(s,{slots:r})=>dr(Gp,{...s,iconNode:t,name:e},r);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Gt("ChartNoAxesColumnIncreasingIcon",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Gt("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Gt("LayoutDashboardIcon",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Gt("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Gt("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Gt("ReceiptEuroIcon",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M8 12h5",key:"1g6qi8"}],["path",{d:"M16 9.5a4 4 0 1 0 0 5.2",key:"b2px4r"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Gt("WalletIcon",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-vue-next v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Gt("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tg={class:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-medium"},sg={class:"flex-1 text-left"},rg={class:"text-sm font-medium truncate"},ng={class:"text-xs text-gray-400"},ig={key:0,class:"absolute bottom-full left-0 w-full bg-gray-800 rounded-lg shadow-lg py-2 mb-2 border border-gray-700 z-10"},og={class:"px-4 py-2 border-b border-gray-700"},ag={class:"text-sm font-medium"},lg={class:"text-xs text-gray-400"},cg=Ce({__name:"UserProfile",setup(e){const t=Ee(),s=un(),r=K(!1),n=K(null),i=K(null),o=y=>{i.value&&!i.value.contains(y.target)&&(r.value=!1)};yr(()=>{if(document.addEventListener("click",o),!t.isGuestMode&&t.user)try{xe.from("profiles").select("first_name, last_name").eq("id",t.user.id).single().then(({data:y,error:b})=>{if(b)throw b;n.value=y})}catch(y){console.error("Error fetching user profile:",y)}}),Ha(()=>{document.removeEventListener("click",o)});const a=H(()=>{var y,b,x,S,k;return t.isGuestMode?"Guest":(y=n.value)!=null&&y.first_name?n.value.first_name:((x=(b=t.user)==null?void 0:b.user_metadata)==null?void 0:x.first_name)||((k=(S=t.user)==null?void 0:S.email)==null?void 0:k.split("@")[0].split(".")[0])||"User"}),l=H(()=>{var y,b,x,S,k,m,w;return t.isGuestMode?"User":(y=n.value)!=null&&y.last_name?n.value.last_name:((x=(b=t.user)==null?void 0:b.user_metadata)==null?void 0:x.last_name)||((k=(S=t.user)==null?void 0:S.email)!=null&&k.split("@")[0].includes(".")?(w=(m=t.user)==null?void 0:m.email)==null?void 0:w.split("@")[0].split(".")[1]:"")}),c=H(()=>{var y,b;return t.isGuestMode?"Guest User":a.value&&l.value?`${a.value} ${l.value}`:((b=(y=t.user)==null?void 0:y.email)==null?void 0:b.split("@")[0])||"User"}),u=H(()=>{var y;return t.isGuestMode?"Guest Mode":((y=t.user)==null?void 0:y.email)||""}),f=H(()=>t.isGuestMode?"Guest Mode":"Signed In"),p=H(()=>{if(t.isGuestMode)return"G";const y=a.value.charAt(0).toUpperCase(),b=l.value?l.value.charAt(0).toUpperCase():"";return b?`${y}${b}`:y}),h=async()=>{r.value=!1,t.isGuestMode?t.setGuestMode(!1):await t.signOut(),s.push("/auth")};return(y,b)=>(O(),I("div",{ref_key:"profileContainer",ref:i,class:"relative"},[d("button",{class:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-800 transition-colors w-full",onClick:b[0]||(b[0]=x=>r.value=!r.value)},[d("div",tg,D(p.value),1),d("div",sg,[d("p",rg,D(c.value),1),d("p",ng,D(f.value),1)]),ge(Ae(Wp),{class:ae(["h-4 w-4 text-gray-400 transition-transform",r.value?"rotate-180":""])},null,8,["class"])]),r.value?(O(),I("div",ig,[d("div",og,[d("p",ag,D(c.value),1),d("p",lg,D(u.value),1)]),d("button",{class:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-gray-700 flex items-center gap-2",onClick:h},[ge(Ae(Yp),{class:"h-4 w-4"}),b[1]||(b[1]=Le(" Sign Out "))])])):ve("",!0)],512))}}),ug={class:"flex-1 py-6 px-4 space-y-1 overflow-y-auto"},dg={class:"border-t border-gray-800"},fg={class:"p-4 mb-2"},hg=Ce({__name:"Sidebar",setup(e){const t=K(!1),s=()=>{t.value=!t.value};return Qs("closeSidebar",()=>{t.value=!1}),(r,n)=>(O(),I(ue,null,[d("button",{class:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 transition-colors",onClick:s},[t.value?(O(),We(Ae(eg),{key:1,class:"h-6 w-6"})):(O(),We(Ae(Qp),{key:0,class:"h-6 w-6"}))]),d("div",{class:ae(["fixed lg:relative h-screen w-64 bg-gray-900 text-white flex flex-col shadow-xl transition-transform duration-300 z-40",t.value?"translate-x-0":"-translate-x-full lg:translate-x-0"])},[n[2]||(n[2]=Tt('<div class="p-6 border-b border-gray-800"><div class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-blue-500" viewBox="0 0 20 20" fill="currentColor"><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd"></path></svg><div><span class="text-blue-500 font-bold text-xl">Financial</span><span class="text-white font-medium text-xl">Manager</span></div></div></div>',1)),d("nav",ug,[n[0]||(n[0]=d("div",{class:"flex items-center gap-2 px-2 mb-4"},[d("div",{class:"h-px bg-gray-800 flex-grow"}),d("p",{class:"text-gray-400 text-xs font-medium"},"MENU"),d("div",{class:"h-px bg-gray-800 flex-grow"})],-1)),ge(Or,{icon:Ae(Jp),label:"Dashboard",to:"/dashboard"},null,8,["icon"]),ge(Or,{icon:Ae(Xp),label:"Transactions",to:"/transactions"},null,8,["icon"]),ge(Or,{icon:Ae(Zp),label:"Budgets",to:"/budgets"},null,8,["icon"]),ge(Or,{icon:Ae(Kp),label:"Stats",to:"/stats"},null,8,["icon"])]),d("div",dg,[d("div",fg,[ge(cg)]),n[1]||(n[1]=Tt('<div class="px-6 py-3 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500" viewBox="0 0 20 20" fill="currentColor"><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd"></path></svg><div class="flex-1"><p class="text-sm font-medium">Financial Manager</p><p class="text-xs text-gray-400 version">v1.2.0</p></div></div>',1))])],2)],64))}}),pg={key:0,class:"fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50"},gg=Ce({__name:"App",setup(e){const t=ec(),s=un(),r=H(()=>t.path.includes("/auth")||t.path.includes("/reset-password")),n=K(!1),i=Ee(),o=cs(),a=Us(),l=H(()=>i.isLoading||o.isLoading||a.isLoading),c=H(()=>r.value?"w-screen h-screen overflow-hidden":"flex min-h-screen w-full bg-gray-100");return yr(async()=>{console.log("App mounted, initializing user..."),await i.initialize(),(i.user||i.isGuestMode)&&(console.log("Loading data for",i.isGuestMode?"guest user":"authenticated user"),await Promise.all([o.loadTransactions(),a.loadBudgets()]),console.log("Data loaded:",{transactions:o.transactions.length,budgets:a.budgets.length})),t.path==="/"&&(i.user||i.isGuestMode?s.push("/dashboard"):s.push("/auth"))}),Ts(()=>i.user,async u=>{(u||i.isGuestMode)&&(console.log("User state changed, reloading data"),await Promise.all([o.loadTransactions(),a.loadBudgets()]))}),(u,f)=>{const p=lr("router-view"),h=lr("Modal");return O(),I(ue,null,[d("div",{class:ae(c.value)},[l.value?(O(),I("div",pg,f[2]||(f[2]=[d("div",{class:"text-white text-center"},[d("svg",{class:"animate-spin h-10 w-10 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),d("p",null,"Loading your data...")],-1)]))):ve("",!0),r.value?ve("",!0):(O(),We(hg,{key:1})),d("div",{class:ae(["flex-1 flex flex-col",{"overflow-y-auto":!r.value}])},[r.value?ve("",!0):(O(),I("div",{key:0,class:ae(["p-6 lg:p-6 flex-1",{"pl-16 lg:pl-6":!r.value}])},[ge(p,{onOpenModal:f[0]||(f[0]=y=>n.value=!0)})],2)),r.value?(O(),We(p,{key:1})):ve("",!0)],2)],2),r.value?ve("",!0):(O(),We(h,{key:0,isOpen:n.value,title:"Aadir Transaccin",onClose:f[1]||(f[1]=y=>n.value=!1)},null,8,["isOpen"]))],64)}}}),mg={class:"p-4 lg:p-6"},vg={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8"},yg={class:"bg-white p-4 lg:p-6 rounded-lg shadow-sm"},bg={class:"flex items-baseline gap-2"},wg={class:"text-2xl font-bold"},_g={class:"text-xs text-gray-500 mt-2"},xg={class:"bg-white p-6 rounded-lg shadow-sm"},Sg={class:"flex items-baseline gap-2"},kg={class:"text-2xl font-bold"},Eg={class:"text-xs text-gray-500 mt-2"},$g={key:0,class:"text-xs text-gray-600"},Cg={key:1,class:"text-xs text-gray-500"},Tg={class:"bg-white p-6 rounded-lg shadow-sm"},Pg={class:"flex items-baseline gap-2"},Ag={class:"text-2xl font-bold"},Og={class:"text-xs text-gray-500 mt-2"},Rg={key:1,class:"text-xs text-gray-500"},jg={class:"bg-white rounded-lg shadow-sm p-4 lg:p-6 mb-6 lg:mb-8"},Ig={key:0,class:"space-y-4 lg:space-y-6"},Mg={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center"},Lg={class:"font-medium text-sm lg:text-base"},Ug={class:"text-xs lg:text-sm"},Dg={class:"w-full bg-gray-100 rounded-full h-2"},Bg={key:1,class:"text-center py-12"},Ng={key:0,class:"bg-white rounded-lg shadow-sm p-4 lg:p-6"},Fg={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6"},zg={class:"space-y-3 lg:space-y-4"},Vg={class:"mb-2 sm:mb-0"},qg={class:"font-medium text-sm lg:text-base"},Hg={class:"text-xs lg:text-sm text-gray-500"},Gg={class:"text-left sm:text-right"},Kg={class:"text-xs text-gray-500"},Wg=Ce({__name:"Dashboard",setup(e){const t=cs(),s=Us(),{transactions:r}=os(t),{budgets:n}=os(s),i=K(new Date().toISOString().substring(0,7)),o=H(()=>r.value.filter(x=>x.date.startsWith(i.value))),a=H(()=>{const x=new Date().toISOString().split("T")[0];return r.value.filter(k=>{const m=k.date.split("T")[0];return k.type==="expense"&&m===x}).reduce((k,m)=>k+m.amount,0)}),l=H(()=>{const x=new Date,S=new Date(x);S.setDate(S.getDate()-1);const k=S.toISOString().split("T")[0],w=r.value.filter(E=>{const N=E.date.split("T")[0];return E.type==="expense"&&N===k}).reduce((E,N)=>E+N.amount,0);return a.value-w}),c=H(()=>o.value.filter(x=>x.type==="expense").reduce((x,S)=>x+S.amount,0)),u=H(()=>!n.value||!r.value?[]:n.value.map(x=>{const S=r.value.filter(k=>k.type==="expense"&&k.category===x.category&&k.date.startsWith(i.value)).reduce((k,m)=>k+m.amount,0);return{...x,spent:S}}).sort((x,S)=>S.spent/S.budget_limit-x.spent/x.budget_limit)),f=H(()=>n.value.reduce((x,S)=>x+S.budget_limit,0)),p=x=>x>=1?"bg-red-500":x>=.75?"bg-yellow-500":"bg-green-500",h=H(()=>[...r.value].sort((x,S)=>new Date(S.date).getTime()-new Date(x.date).getTime()).slice(0,5)),y=x=>x.toLocaleDateString("en-US",{month:"short",day:"numeric"}),b=x=>x.toLocaleDateString("en-US",{month:"long",year:"numeric"});return(x,S)=>{const k=lr("router-link");return O(),I("div",mg,[S[10]||(S[10]=d("div",{class:"mb-6 lg:mb-8"},[d("h1",{class:"text-xl lg:text-2xl font-bold"},"Dashboard"),d("p",{class:"text-xs lg:text-sm text-gray-500"},"Real-time overview of your financial activity"),d("p",{class:"text-xs text-blue-600 mt-2"},"All budget and spending data resets at the beginning of each month")],-1)),d("div",vg,[d("div",yg,[S[0]||(S[0]=d("div",{class:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2"},[d("h3",{class:"text-sm text-gray-500"},"Spent Today"),d("span",{class:"text-xs text-gray-400 mt-1 sm:mt-0"},"Updates in real-time")],-1)),d("div",bg,[d("span",wg,D(a.value.toFixed(2))+" ",1),l.value!==0?(O(),I("span",{key:0,class:ae(["text-sm",l.value>0?"text-red-500":"text-green-500"])},D(l.value>0?"":"")+" "+D(Math.abs(l.value).toFixed(2))+"  ",3)):ve("",!0)]),d("p",_g,"Activity on "+D(y(new Date)),1),l.value!==0?(O(),I("p",{key:0,class:ae(["text-xs",l.value>0?"text-red-500":"text-green-500"])}," That's "+D(Math.abs(l.value).toFixed(2))+"  "+D(l.value>0?"more":"less")+" than yesterday ",3)):ve("",!0)]),d("div",xg,[S[1]||(S[1]=d("div",{class:"flex justify-between items-start mb-2"},[d("h3",{class:"text-sm text-gray-500"},"Spent This Month"),d("span",{class:"text-xs text-gray-400"},"Current month only")],-1)),d("div",Sg,[d("span",kg,D(c.value.toFixed(2))+" ",1)]),d("p",Eg,"Activity for "+D(b(new Date)),1),f.value>0?(O(),I("p",$g," That's "+D((c.value/f.value*100).toFixed(1))+"% of your total budget ",1)):(O(),I("p",Cg," Set up a budget to track your spending "))]),d("div",Tg,[S[2]||(S[2]=d("div",{class:"flex justify-between items-start mb-2"},[d("h3",{class:"text-sm text-gray-500"},"Budget Remaining"),d("span",{class:"text-xs text-gray-400"},"Resets monthly")],-1)),d("div",Pg,[d("span",Ag,D((f.value-c.value).toFixed(2))+" ",1)]),d("p",Og,"For "+D(b(new Date)),1),f.value>0?(O(),I("p",{key:0,class:ae(["text-xs",f.value-c.value>0?"text-green-500":"text-red-500"])},D(f.value-c.value>0?"You are within budget":"You are over budget"),3)):(O(),I("p",Rg," No budget limits set "))])]),d("div",jg,[S[7]||(S[7]=d("div",{class:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6"},[d("div",{class:"mb-2 sm:mb-0"},[d("h2",{class:"text-base lg:text-lg font-semibold"},"Budget Overview"),d("p",{class:"text-xs lg:text-sm text-gray-500"},"Monthly progress by category")])],-1)),u.value.length>0?(O(),I("div",Ig,[(O(!0),I(ue,null,Xe(u.value,m=>(O(),I("div",{key:m.category,class:"space-y-2"},[d("div",Mg,[d("span",Lg,D(m.category),1),d("span",Ug,D(m.spent.toFixed(2))+"  / "+D(m.budget_limit.toFixed(2))+" ",1)]),d("div",Dg,[d("div",{class:ae(["h-2 rounded-full transition-all duration-300",p(m.spent/m.budget_limit)]),style:Ct({width:`${Math.min(m.spent/m.budget_limit*100,100)}%`})},null,6)])]))),128))])):(O(),I("div",Bg,[S[4]||(S[4]=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-blue-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),S[5]||(S[5]=d("p",{class:"text-gray-600 font-medium mb-2"},"No budgets set up yet",-1)),S[6]||(S[6]=d("p",{class:"text-gray-500 text-sm mb-4"},"Create budgets to track spending by category",-1)),ge(k,{to:"/budgets",class:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:zr(()=>S[3]||(S[3]=[Le(" Set Up Budget ")])),_:1})]))]),h.value.length>0?(O(),I("div",Ng,[d("div",Fg,[S[9]||(S[9]=d("div",{class:"mb-2 sm:mb-0"},[d("h2",{class:"text-base lg:text-lg font-semibold"},"Recent Transactions"),d("p",{class:"text-xs lg:text-sm text-gray-500"},"Your latest 5 transactions")],-1)),ge(k,{to:"/transactions",class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},{default:zr(()=>S[8]||(S[8]=[Le(" View All ")])),_:1})]),d("div",zg,[(O(!0),I(ue,null,Xe(h.value,m=>(O(),I("div",{key:m.id,class:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 hover:bg-gray-50 rounded-lg transition-colors"},[d("div",Vg,[d("p",qg,D(m.description),1),d("p",Hg,D(m.category),1)]),d("div",Gg,[d("p",{class:ae([m.type==="expense"?"text-red-600":"text-green-600","text-sm lg:text-base"])},D(m.type==="expense"?"-":"+")+D(m.amount.toFixed(2))+"  ",3),d("p",Kg,D(y(new Date(m.date))),1)])]))),128))])])):ve("",!0)])}}}),Jg={class:"p-4 lg:p-6"},Yg={class:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 lg:mb-8 gap-4"},Qg={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3"},Xg={key:0,class:"flex flex-col sm:flex-row gap-3"},Zg=["value"],e0=["value"],t0={class:"bg-white rounded-lg shadow"},s0={class:"hidden lg:block overflow-x-auto"},r0={class:"w-full"},n0={class:"divide-y divide-gray-200"},i0={class:"px-4 lg:px-6 py-3 lg:py-4 whitespace-nowrap text-xs lg:text-sm text-gray-500"},o0={class:"px-4 lg:px-6 py-3 lg:py-4 whitespace-nowrap text-xs lg:text-sm font-medium text-gray-900"},a0={class:"px-4 lg:px-6 py-3 lg:py-4 whitespace-nowrap text-xs lg:text-sm text-gray-500"},l0={class:"px-4 lg:px-6 py-3 lg:py-4 whitespace-nowrap text-right text-xs lg:text-sm font-medium"},c0=["onClick"],u0=["onClick"],d0={class:"lg:hidden divide-y divide-gray-200"},f0={class:"flex justify-between items-start mb-2"},h0={class:"font-medium text-gray-900"},p0={class:"text-sm text-gray-500"},g0={class:"flex justify-between items-center"},m0={class:"text-sm text-gray-500"},v0={class:"flex gap-3"},y0=["onClick"],b0=["onClick"],w0={key:0,class:"text-center py-8 lg:py-12 px-4"},_0={class:"text-sm text-gray-500 mb-4 lg:mb-6 max-w-sm mx-auto"},x0={key:0,class:"fixed inset-0 z-50"},S0={class:"absolute inset-0 flex items-center justify-center p-4"},k0={class:"bg-white rounded-lg w-full max-w-md mx-auto"},E0={class:"p-4 lg:p-6"},$0={class:"text-lg lg:text-xl font-semibold mb-4"},C0=["value"],T0=["max"],P0=Ce({__name:"Transactions",setup(e){const t=cs(),s=Us(),{transactions:r}=os(t),{budgets:n}=os(s),i=K(!1),o=H(()=>{const k=new Set(r.value.map(m=>m.date.substring(0,7)));return Array.from(k).sort().reverse()}),a=K(""),l=K(""),c=H(()=>r.value.filter(k=>!a.value||k.date.startsWith(a.value)).filter(k=>!l.value||k.category===l.value).sort((k,m)=>new Date(m.date).getTime()-new Date(k.date).getTime())),u=k=>new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),f=k=>new Date(k+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"}),p=K(null),h=K({type:"expense",description:"",category:"",amount:0,date:new Date().toISOString().split("T")[0]}),y=k=>{p.value=k.id,h.value={...k},i.value=!0},b=()=>{i.value=!1,p.value=null,h.value={type:"expense",description:"",category:"",amount:0,date:new Date().toISOString().split("T")[0]}},x=()=>{p.value?t.updateTransaction({id:p.value,type:h.value.type,description:h.value.description,category:h.value.category,amount:h.value.amount,date:h.value.date}):t.addTransaction({type:h.value.type,description:h.value.description,category:h.value.category,amount:h.value.amount,date:h.value.date}),b()},S=k=>{confirm("Are you sure you want to delete this transaction?")&&t.removeTransaction(k)};return(k,m)=>(O(),I(ue,null,[d("div",Jg,[d("div",Yg,[m[11]||(m[11]=d("div",null,[d("h1",{class:"text-xl lg:text-2xl font-bold"},"Transactions"),d("p",{class:"text-sm text-gray-500"},"Manage your income and expenses")],-1)),d("div",Qg,[o.value.length>0?(O(),I("div",Xg,[we(d("select",{"onUpdate:modelValue":m[0]||(m[0]=w=>a.value=w),class:"border rounded-md px-3 py-2 w-full sm:w-auto"},[m[9]||(m[9]=d("option",{value:""},"All Months",-1)),(O(!0),I(ue,null,Xe(o.value,w=>(O(),I("option",{key:w,value:w},D(f(w)),9,Zg))),128))],512),[[es,a.value]]),we(d("select",{"onUpdate:modelValue":m[1]||(m[1]=w=>l.value=w),class:"border rounded-md px-3 py-2 w-full sm:w-auto"},[m[10]||(m[10]=d("option",{value:""},"All Categories",-1)),(O(!0),I(ue,null,Xe(Ae(n),w=>(O(),I("option",{key:w.category,value:w.category},D(w.category),9,e0))),128))],512),[[es,l.value]]),d("button",{class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 w-full sm:w-auto",onClick:m[2]||(m[2]=w=>i.value=!0)}," New Transaction ")])):ve("",!0)])]),d("div",t0,[d("div",s0,[d("table",r0,[m[14]||(m[14]=d("thead",{class:"bg-gray-50"},[d("tr",null,[d("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),d("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),d("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Category"),d("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount"),d("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),d("tbody",n0,[(O(!0),I(ue,null,Xe(c.value,w=>(O(),I("tr",{key:w.id,class:"hover:bg-gray-50"},[d("td",i0,D(u(w.date)),1),d("td",o0,D(w.description),1),d("td",a0,D(w.category),1),d("td",{class:ae(["px-4 lg:px-6 py-3 lg:py-4 whitespace-nowrap text-xs lg:text-sm text-right",w.type==="expense"?"text-red-600":"text-green-600"])},D(w.type==="expense"?"-":"+")+D(w.amount.toFixed(2))+"  ",3),d("td",l0,[d("button",{class:"text-gray-500 hover:text-blue-600 mr-3",title:"Edit transaction",onClick:E=>y(w)},m[12]||(m[12]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)]),8,c0),d("button",{class:"text-gray-500 hover:text-red-600",title:"Delete transaction",onClick:E=>S(w.id)},m[13]||(m[13]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,u0)])]))),128))])])]),d("div",d0,[(O(!0),I(ue,null,Xe(c.value,w=>(O(),I("div",{key:w.id,class:"p-4 hover:bg-gray-50"},[d("div",f0,[d("div",null,[d("h3",h0,D(w.description),1),d("p",p0,D(w.category),1)]),d("p",{class:ae([w.type==="expense"?"text-red-600":"text-green-600","font-medium"])},D(w.type==="expense"?"-":"+")+D(w.amount.toFixed(2))+"  ",3)]),d("div",g0,[d("span",m0,D(u(w.date)),1),d("div",v0,[d("button",{class:"text-gray-500 hover:text-blue-600",title:"Edit transaction",onClick:E=>y(w)},m[15]||(m[15]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)]),8,y0),d("button",{class:"text-gray-500 hover:text-red-600",title:"Delete transaction",onClick:E=>S(w.id)},m[16]||(m[16]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,b0)])])]))),128))])]),c.value.length===0?(O(),I("div",w0,[m[17]||(m[17]=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 lg:h-12 lg:w-12 mx-auto text-blue-600 mb-3 lg:mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),m[18]||(m[18]=d("h3",{class:"text-base lg:text-lg font-medium text-gray-900 mb-2"},"No transactions found",-1)),d("p",_0,D(a.value||l.value?"Try adjusting your filters or create a new transaction":"Start tracking your finances by adding your first transaction"),1),d("button",{class:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:m[3]||(m[3]=w=>i.value=!0)}," Add New Transaction ")])):ve("",!0)]),i.value?(O(),I("div",x0,[m[27]||(m[27]=d("div",{class:"absolute inset-0 bg-black bg-opacity-50"},null,-1)),d("div",S0,[d("div",k0,[d("div",E0,[d("h2",$0,D(p.value?"Edit":"New")+" Transaction ",1),d("form",{class:"space-y-4",onSubmit:gt(x,["prevent"])},[d("div",null,[m[20]||(m[20]=d("label",{class:"block text-sm font-medium mb-2"},"Type",-1)),we(d("select",{"onUpdate:modelValue":m[4]||(m[4]=w=>h.value.type=w),required:"",class:"w-full border rounded-md p-2 text-sm lg:text-base"},m[19]||(m[19]=[d("option",{value:"expense"},"Expense",-1),d("option",{value:"income"},"Income",-1)]),512),[[es,h.value.type]])]),d("div",null,[m[21]||(m[21]=d("label",{class:"block text-sm font-medium mb-2"},"Description",-1)),we(d("input",{"onUpdate:modelValue":m[5]||(m[5]=w=>h.value.description=w),type:"text",required:"",class:"w-full border rounded-md p-2 text-sm lg:text-base"},null,512),[[Ye,h.value.description]])]),d("div",null,[m[23]||(m[23]=d("label",{class:"block text-sm font-medium mb-2"},"Category",-1)),we(d("select",{"onUpdate:modelValue":m[6]||(m[6]=w=>h.value.category=w),required:"",class:"w-full border rounded-md p-2 text-sm lg:text-base"},[m[22]||(m[22]=d("option",{value:"",disabled:""},"Select a category",-1)),(O(!0),I(ue,null,Xe(Ae(n),w=>(O(),I("option",{key:w.category,value:w.category},D(w.category),9,C0))),128))],512),[[es,h.value.category]])]),d("div",null,[m[24]||(m[24]=d("label",{class:"block text-sm font-medium mb-2"},"Amount",-1)),we(d("input",{"onUpdate:modelValue":m[7]||(m[7]=w=>h.value.amount=w),type:"number",required:"",min:"0.01",step:"0.01",class:"w-full border rounded-md p-2 text-sm lg:text-base"},null,512),[[Ye,h.value.amount,void 0,{number:!0}]])]),d("div",null,[m[25]||(m[25]=d("label",{class:"block text-sm font-medium mb-2"},"Date",-1)),we(d("input",{"onUpdate:modelValue":m[8]||(m[8]=w=>h.value.date=w),type:"date",required:"",max:new Date().toISOString().split("T")[0],class:"w-full border rounded-md p-2 text-sm lg:text-base"},null,8,T0),[[Ye,h.value.date]])]),d("div",{class:"flex flex-col-reverse sm:flex-row sm:justify-end gap-3 pt-4"},[d("button",{type:"button",class:"w-full sm:w-auto px-4 py-2 text-gray-600 border rounded-md text-sm lg:text-base",onClick:b}," Cancel "),m[26]||(m[26]=d("button",{type:"submit",class:"w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-md text-sm lg:text-base"}," Save ",-1))])],32)])])])])):ve("",!0)],64))}}),A0={class:"p-4 lg:p-6"},O0={class:"flex flex-col sm:flex-row gap-3 mb-6"},R0=["value"],j0=["value"],I0={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8"},M0={class:"bg-white p-4 lg:p-6 rounded-lg shadow-sm"},L0={class:"text-xl lg:text-2xl font-bold text-green-600"},U0={class:"bg-white p-4 lg:p-6 rounded-lg shadow-sm"},D0={class:"text-xl lg:text-2xl font-bold text-red-600"},B0={class:"bg-white p-4 lg:p-6 rounded-lg shadow-sm"},N0={class:"bg-white p-4 lg:p-6 rounded-lg shadow-sm"},F0={class:"text-xl lg:text-2xl font-bold text-blue-600"},z0={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6"},V0={class:"bg-white p-4 lg:p-6 rounded-lg shadow-sm"},q0={class:"space-y-3 lg:space-y-4"},H0={class:"flex-1"},G0={class:"flex justify-between mb-1"},K0={class:"text-xs lg:text-sm font-medium"},W0={class:"text-xs lg:text-sm text-gray-500"},J0={class:"w-full bg-gray-100 rounded-full h-2"},Y0={class:"bg-white p-4 lg:p-6 rounded-lg shadow-sm"},Q0={class:"h-48 lg:h-64 flex flex-col items-center justify-center"},X0={class:"w-full flex items-end justify-between space-x-1 px-4 mb-4"},Z0=Ce({__name:"Stats",setup(e){const t=cs(),{transactions:s}=os(t),r=H(()=>{const p=new Date().getFullYear(),h=[];for(let y=0;y<8;y++)h.push((p-y).toString());return h}),n=K(new Date().getFullYear().toString()),i=K("all"),o=H(()=>s.value.filter(p=>{const h=p.date.substring(0,4),y=p.date.substring(5,7);return i.value==="all"?h===n.value:h===n.value&&y===i.value})),a=H(()=>o.value.filter(p=>p.type==="income").reduce((p,h)=>p+h.amount,0)),l=H(()=>o.value.filter(p=>p.type==="expense").reduce((p,h)=>p+h.amount,0)),c=H(()=>a.value-l.value),u=H(()=>{const h=o.value.filter(b=>b.type==="expense").reduce((b,x)=>(b[x.category]=(b[x.category]||0)+x.amount,b),{}),y=Object.values(h).reduce((b,x)=>b+x,0);return Object.entries(h).map(([b,x])=>({name:b,amount:x,percentage:x/y*100})).sort((b,x)=>x.amount-b.amount)}),f=H(()=>{var p;return((p=u.value[0])==null?void 0:p.name)||"No expenses"});return(p,h)=>(O(),I("div",A0,[h[10]||(h[10]=d("div",{class:"mb-6 lg:mb-8"},[d("h1",{class:"text-xl lg:text-2xl font-bold"},"Statistics"),d("p",{class:"text-sm text-gray-500"},"Financial insights and analysis")],-1)),d("div",O0,[we(d("select",{"onUpdate:modelValue":h[0]||(h[0]=y=>n.value=y),class:"border rounded-md px-3 py-2 w-full sm:w-auto"},[(O(!0),I(ue,null,Xe(r.value,y=>(O(),I("option",{key:y,value:y},D(y),9,R0))),128))],512),[[es,n.value]]),we(d("select",{"onUpdate:modelValue":h[1]||(h[1]=y=>i.value=y),class:"border rounded-md px-3 py-2 w-full sm:w-auto"},[h[2]||(h[2]=d("option",{value:"all"},"All Months",-1)),(O(),I(ue,null,Xe(12,y=>d("option",{key:y,value:y.toString().padStart(2,"0")},D(new Date(2e3,y-1).toLocaleString("en-US",{month:"long"})),9,j0)),64))],512),[[es,i.value]])]),d("div",I0,[d("div",M0,[h[3]||(h[3]=d("h3",{class:"text-xs lg:text-sm text-gray-500 mb-2"},"Total Income",-1)),d("p",L0,D(a.value.toFixed(2))+" ",1)]),d("div",U0,[h[4]||(h[4]=d("h3",{class:"text-xs lg:text-sm text-gray-500 mb-2"},"Total Expenses",-1)),d("p",D0,D(l.value.toFixed(2))+" ",1)]),d("div",B0,[h[5]||(h[5]=d("h3",{class:"text-xs lg:text-sm text-gray-500 mb-2"},"Net Savings",-1)),d("p",{class:ae(["text-xl lg:text-2xl font-bold",c.value>=0?"text-green-600":"text-red-600"])},D(c.value.toFixed(2))+"  ",3)]),d("div",N0,[h[6]||(h[6]=d("h3",{class:"text-xs lg:text-sm text-gray-500 mb-2"},"Most Spent Category",-1)),d("p",F0,D(f.value),1)])]),d("div",z0,[d("div",V0,[h[7]||(h[7]=d("h3",{class:"text-base lg:text-lg font-semibold mb-4"},"Expense by Category",-1)),d("div",q0,[(O(!0),I(ue,null,Xe(u.value,y=>(O(),I("div",{key:y.name,class:"flex items-center gap-3 lg:gap-4"},[d("div",H0,[d("div",G0,[d("span",K0,D(y.name),1),d("span",W0,D(y.percentage.toFixed(1))+"%",1)]),d("div",J0,[d("div",{class:"h-2 rounded-full bg-blue-500 transition-all duration-300",style:Ct({width:`${y.percentage}%`})},null,4)])])]))),128))])]),d("div",Y0,[h[9]||(h[9]=d("h3",{class:"text-base lg:text-lg font-semibold mb-4"},"Daily Spending Trend",-1)),d("div",Q0,[d("div",X0,[(O(),I(ue,null,Xe(12,y=>d("div",{key:y,class:ae(["bg-blue-400 opacity-60 rounded-t-md transition-all duration-300 hover:opacity-100",y%3===0?"bg-blue-600":""]),style:Ct(`height: ${20+Math.random()*60}px; width: ${100/14}%`)},null,6)),64))]),h[8]||(h[8]=d("div",{class:"flex items-center mt-4 text-gray-500"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),d("p",{class:"text-sm"},"Interactive chart coming soon")],-1))])])])]))}}),em={class:"p-4 lg:p-6"},tm={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 lg:mb-8 gap-4"},sm={class:"text-sm text-gray-500"},rm={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6"},nm={key:0,class:"col-span-full flex flex-col items-center justify-center py-12 lg:py-20"},im={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 mb-4"},om={class:"font-semibold text-base lg:text-lg"},am={class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3"},lm={class:"flex gap-2 order-1 sm:order-2"},cm=["onClick"],um=["onClick"],dm={class:"w-full bg-gray-100 rounded-full h-3 mb-4"},fm={class:"flex justify-between text-sm"},hm={key:0,class:"mt-6 lg:mt-8 bg-white rounded-lg shadow-sm p-4 lg:p-6"},pm={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4"},gm={class:"text-xs lg:text-sm text-gray-500"},mm={class:"text-base lg:text-lg font-medium px-4 py-2 bg-gray-50 rounded-lg w-full sm:w-auto text-center"},vm={class:"w-full bg-gray-200 rounded-full h-3 mt-4 mb-4"},ym={class:"flex justify-between text-sm text-gray-600"},bm={key:1,class:"fixed inset-0 z-50"},wm={class:"absolute inset-0 flex items-center justify-center p-4"},_m={class:"bg-white p-4 lg:p-6 rounded-lg w-full max-w-sm mx-auto"},xm={class:"mb-4"},Sm={class:"mb-4"},km={class:"flex justify-end gap-4"},Em={key:2,class:"fixed inset-0 z-50"},$m={class:"absolute inset-0 flex items-center justify-center p-4"},Cm={class:"bg-white p-4 lg:p-6 rounded-lg w-full max-w-sm mx-auto"},Tm={class:"mb-4"},Pm=["value"],Am={class:"mb-4"},Om={class:"flex justify-end gap-4"},Rm=Ce({__name:"Budgets",setup(e){yr(()=>{s.checkMonthlyReset()});const t=cs(),s=Us(),{budgets:r,currentMonth:n}=os(s),{transactions:i}=os(t),o=K(!1),a=H(()=>new Date(n.value+"-01").toLocaleString("en-US",{month:"long"})),l=K({category:"",budget_limit:0}),c=H(()=>!r.value||!i.value?[]:r.value.map(w=>{const E=i.value.filter(N=>N.type==="expense"&&N.category===w.category&&N.date.startsWith(n.value)).reduce((N,te)=>N+te.amount,0);return{...w,spent:E}})),u=H(()=>r.value.reduce((w,E)=>w+E.budget_limit,0)),f=H(()=>c.value.reduce((w,E)=>w+E.spent,0)),p=w=>w>=1?"bg-red-500":w>=.75?"bg-yellow-500":"bg-blue-500",h=()=>{if(!(!l.value.budget_limit||l.value.budget_limit<=0)){if(r.value.some(w=>w.category.toLowerCase()===l.value.category.toLowerCase())){alert("A budget with this category already exists");return}s.addBudget({category:l.value.category,budget_limit:l.value.budget_limit}),l.value={category:"",budget_limit:0},o.value=!1}},y=K(!1),b=K({category:"",budget_limit:0}),x=K(""),S=w=>{b.value={category:w.category,budget_limit:w.budget_limit},x.value=w.category,y.value=!0},k=()=>{!b.value.budget_limit||b.value.budget_limit<=0||(s.updateBudget(b.value.category,b.value.budget_limit),y.value=!1)},m=w=>{confirm("Are you sure you want to remove this budget?")&&s.removeBudget(w)};return(w,E)=>(O(),I("div",em,[d("div",tm,[d("div",null,[E[7]||(E[7]=d("h1",{class:"text-xl lg:text-2xl font-bold"},"Budgets",-1)),d("p",sm,"Monthly spending limits for "+D(a.value),1)]),c.value.length>0?(O(),I("button",{key:0,class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2 w-full sm:w-auto justify-center",onClick:E[0]||(E[0]=N=>o.value=!0)},E[8]||(E[8]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),Le(" Add Budget ")]))):ve("",!0)]),d("div",rm,[c.value.length===0?(O(),I("div",nm,[E[10]||(E[10]=Tt('<div class="text-center mb-8"><svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-blue-500 mb-4 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg><h3 class="text-xl font-semibold mb-2">No budgets created yet</h3><p class="text-gray-500 mb-6">Start managing your finances by creating your first budget category</p></div>',1)),d("button",{class:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:E[1]||(E[1]=N=>o.value=!0)},E[9]||(E[9]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),Le(" Create Your First Budget ")]))])):(O(!0),I(ue,{key:1},Xe(c.value,N=>(O(),I("div",{key:N.category,class:"bg-white p-4 lg:p-6 rounded-lg shadow-sm hover:shadow-md transition-all duration-200"},[d("div",im,[d("div",null,[d("h3",om,D(N.category),1),E[11]||(E[11]=d("p",{class:"text-xs lg:text-sm text-gray-500"},"Monthly Budget",-1))]),d("div",am,[d("span",{class:ae(["text-sm font-medium order-2 sm:order-1",N.spent>N.budget_limit?"text-red-600":"text-gray-600"])},D(N.spent.toFixed(2))+"  / "+D(N.budget_limit.toFixed(2))+"  ",3),d("div",lm,[d("button",{class:"text-gray-500 hover:text-blue-600 p-1 rounded-full hover:bg-blue-50 transition-colors",onClick:te=>S(N)},E[12]||(E[12]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)]),8,cm),d("button",{class:"text-gray-500 hover:text-red-600 p-1 rounded-full hover:bg-red-50 transition-colors",onClick:te=>m(N.category)},E[13]||(E[13]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,um)])])]),d("div",dm,[d("div",{class:ae(["h-3 rounded-full transition-all duration-300",p(N.spent/N.budget_limit)]),style:Ct({width:`${Math.min(N.spent/N.budget_limit*100,100)}%`})},null,6)]),d("div",fm,[d("span",{class:ae(["font-medium",N.spent/N.budget_limit>.75?"text-yellow-600":"text-gray-600"])},D((N.spent/N.budget_limit*100).toFixed(1))+"% used ",3),d("span",{class:ae(N.budget_limit-N.spent>0?"text-green-600":"text-red-600")},D(N.budget_limit-N.spent>0?`${(N.budget_limit-N.spent).toFixed(2)}  available`:`${Math.abs(N.budget_limit-N.spent).toFixed(2)}  over budget`),3)])]))),128))]),c.value.length>0?(O(),I("div",hm,[d("div",pm,[d("div",null,[E[14]||(E[14]=d("h2",{class:"text-lg lg:text-xl font-semibold"},"Total Budget Overview",-1)),d("p",gm,"Monthly spending for "+D(a.value),1)]),d("span",mm,D(f.value.toFixed(2))+"  / "+D(u.value.toFixed(2))+"  ",1)]),c.value.length>0?(O(),I(ue,{key:0},[d("div",vm,[d("div",{class:ae(["h-3 rounded-full transition-all",p(f.value/u.value)]),style:Ct({width:`${Math.min(f.value/u.value*100,100)}%`})},null,6)]),d("div",ym,[d("span",null,D((f.value/u.value*100).toFixed(1))+"% of total budget used",1),d("span",null,D(u.value-f.value>0?`${(u.value-f.value).toFixed(2)}  available`:`${Math.abs(u.value-f.value).toFixed(2)}  over total budget`),1)])],64)):ve("",!0)])):ve("",!0),o.value?(O(),I("div",bm,[E[19]||(E[19]=d("div",{class:"absolute inset-0 bg-black bg-opacity-50"},null,-1)),d("div",wm,[d("div",_m,[E[18]||(E[18]=d("h2",{class:"text-xl font-semibold mb-4"},"Add New Budget",-1)),d("form",{onSubmit:gt(h,["prevent"])},[d("div",xm,[E[15]||(E[15]=d("label",{class:"block text-sm font-medium mb-2"},"Category",-1)),we(d("input",{"onUpdate:modelValue":E[2]||(E[2]=N=>l.value.category=N),type:"text",required:"",class:"w-full border rounded-md p-2"},null,512),[[Ye,l.value.category]])]),d("div",Sm,[E[16]||(E[16]=d("label",{class:"block text-sm font-medium mb-2"},"Monthly Limit ()",-1)),we(d("input",{"onUpdate:modelValue":E[3]||(E[3]=N=>l.value.budget_limit=N),type:"number",required:"",min:"0.01",step:"0.01",class:"w-full border rounded-md p-2"},null,512),[[Ye,l.value.budget_limit,void 0,{number:!0}]])]),d("div",km,[d("button",{type:"button",class:"text-gray-600",onClick:E[4]||(E[4]=N=>o.value=!1)},"Cancel"),E[17]||(E[17]=d("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded-md"},"Save",-1))])],32)])])])):ve("",!0),y.value?(O(),I("div",Em,[E[24]||(E[24]=d("div",{class:"absolute inset-0 bg-black bg-opacity-50"},null,-1)),d("div",$m,[d("div",Cm,[E[23]||(E[23]=d("h2",{class:"text-xl font-semibold mb-4"},"Edit Budget",-1)),d("form",{onSubmit:gt(k,["prevent"])},[d("div",Tm,[E[20]||(E[20]=d("label",{class:"block text-sm font-medium mb-2"},"Category",-1)),d("input",{value:b.value.category,disabled:"",class:"w-full border rounded-md p-2 bg-gray-100"},null,8,Pm)]),d("div",Am,[E[21]||(E[21]=d("label",{class:"block text-sm font-medium mb-2"},"Monthly Limit ()",-1)),we(d("input",{"onUpdate:modelValue":E[5]||(E[5]=N=>b.value.budget_limit=N),type:"number",required:"",min:"0.01",step:"0.01",class:"w-full border rounded-md p-2"},null,512),[[Ye,b.value.budget_limit,void 0,{number:!0}]])]),d("div",Om,[d("button",{type:"button",class:"text-gray-600",onClick:E[6]||(E[6]=N=>y.value=!1)},"Cancel"),E[22]||(E[22]=d("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded-md"},"Update",-1))])],32)])])])):ve("",!0)]))}}),jm={class:"mt-1 relative rounded-md shadow-sm"},Im={class:"mt-4"},Mm={class:"mt-1 relative rounded-md shadow-sm"},Lm=["type"],Um={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},Dm={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},Bm={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},Nm={class:"mt-4 flex items-center justify-between"},Fm={class:"flex items-center"},zm={class:"mt-6"},Vm=["disabled"],qm={key:0,class:"flex items-center"},Hm={key:1},Gm={class:"mt-6"},Km={class:"mt-6 grid grid-cols-2 gap-3"},Wm=Ce({__name:"SignInForm",props:{loading:{type:Boolean}},emits:["sign-in","forgot-password","social-sign-in","guest-access"],setup(e,{emit:t}){const s=t,r=K(""),n=K(""),i=K(!1),o=K(!1),a=()=>{s("sign-in",r.value,n.value,o.value)};return(l,c)=>(O(),I("form",{onSubmit:gt(a,["prevent"])},[d("div",null,[c[7]||(c[7]=d("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),d("div",jm,[c[6]||(c[6]=d("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),d("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})])],-1)),we(d("input",{id:"email","onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),type:"email",required:"",class:"pl-10 block w-full py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"your@email.com"},null,512),[[Ye,r.value]])])]),d("div",Im,[c[11]||(c[11]=d("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1)),d("div",Mm,[c[10]||(c[10]=d("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])],-1)),we(d("input",{id:"password","onUpdate:modelValue":c[1]||(c[1]=u=>n.value=u),type:i.value?"text":"password",required:"",class:"pl-10 block w-full py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""},null,8,Lm),[[Fn,n.value]]),d("div",Um,[d("button",{type:"button",class:"text-gray-400 hover:text-gray-500 focus:outline-none",onClick:c[2]||(c[2]=u=>i.value=!i.value)},[i.value?(O(),I("svg",Dm,c[8]||(c[8]=[d("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},null,-1),d("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"},null,-1)]))):(O(),I("svg",Bm,c[9]||(c[9]=[d("path",{"fill-rule":"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z","clip-rule":"evenodd"},null,-1),d("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"},null,-1)])))])])])]),d("div",Nm,[d("div",Fm,[we(d("input",{id:"remember-me","onUpdate:modelValue":c[3]||(c[3]=u=>o.value=u),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[yi,o.value]]),c[12]||(c[12]=d("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-700"},"Remember me",-1))]),d("div",null,[d("a",{href:"#",class:"text-sm font-medium text-blue-600 hover:text-blue-500",onClick:c[4]||(c[4]=gt(u=>l.$emit("forgot-password"),["prevent"]))}," Forgot your password? ")])]),d("div",zm,[d("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:l.loading},[l.loading?(O(),I("span",qm,c[13]||(c[13]=[d("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Le(" Signing in... ")]))):(O(),I("span",Hm,"Sign in"))],8,Vm)]),d("div",Gm,[c[16]||(c[16]=Tt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">Or continue with</span></div></div>',1)),d("div",Km,[c[15]||(c[15]=d("button",{type:"button",class:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-400 cursor-not-allowed opacity-70",disabled:"",title:"Google login coming soon"},[d("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})]),d("span",{class:"ml-2"},"Google (Soon)")],-1)),d("button",{type:"button",class:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:c[5]||(c[5]=gt(u=>s("guest-access"),["prevent"]))},c[14]||(c[14]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),d("span",{class:"ml-2"},"Guest",-1)]))])]),c[17]||(c[17]=Tt('<div class="mt-6"><div class="p-3 bg-amber-50 border border-amber-200 rounded-lg flex items-start"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><p class="ml-2 text-xs text-amber-800"><span class="font-medium">About Guest Mode:</span> When using Guest access, your data will be saved on this device only and cannot be accessed from other devices or recovered if lost. </p></div></div>',1))],32))}}),Jm={class:"grid grid-cols-2 gap-4"},Ym={class:"relative"},Qm={class:"relative"},Xm={class:"relative"},Zm={class:"relative"},ev=["type"],tv={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},sv={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},rv={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},nv={class:"mt-2"},iv={class:"flex justify-between mb-1"},ov={class:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},av={class:"mt-2 text-xs text-gray-500 space-y-1"},lv={class:"flex items-center"},cv={class:"flex items-center"},uv={class:"flex items-center"},dv={class:"relative"},fv=["type"],hv={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},pv={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},gv={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},mv={key:0,class:"mt-1 text-xs text-red-500"},vv={class:"flex items-start"},yv={class:"flex items-center h-5"},bv={class:"ml-3 text-sm"},wv={for:"terms",class:"text-gray-600"},_v=["disabled"],xv={key:0,class:"flex items-center justify-center"},Sv={key:1},kv=Ce({__name:"SignUpForm",props:{loading:{type:Boolean}},emits:["sign-up","show-terms","show-privacy"],setup(e,{emit:t}){const s=t,r=K(""),n=K(""),i=K(""),o=K(""),a=K(""),l=K(!1),c=K(!1),u=K(0),f=K(!1),p=()=>{const k=n.value;let m=0;k.length>=8&&(m+=25),/[A-Z]/.test(k)&&(m+=25),/[a-z]/.test(k)&&(m+=25),/[0-9]/.test(k)&&(m+=25),u.value=m},h=H(()=>u.value===0?"None":u.value<=25?"Weak":u.value<=50?"Fair":u.value<=75?"Good":"Strong"),y=H(()=>u.value===0?"text-gray-400 bg-gray-200":u.value<=25?"text-red-500 bg-red-500":u.value<=50?"text-orange-500 bg-orange-500":u.value<=75?"text-yellow-500 bg-yellow-500":"text-green-500 bg-green-500"),b=H(()=>r.value.trim()!==""&&n.value.trim()!==""&&n.value===i.value&&o.value.trim()!==""&&a.value.trim()!==""&&f.value&&u.value>=50),x=k=>{k==="password"?l.value=!l.value:c.value=!c.value},S=()=>{b.value&&s("sign-up",{email:r.value,password:n.value,firstName:o.value,lastName:a.value})};return(k,m)=>(O(),I("form",{class:"space-y-5",onSubmit:gt(S,["prevent"])},[d("div",Jm,[d("div",null,[m[11]||(m[11]=d("label",{for:"first-name",class:"block text-sm font-medium text-gray-700 mb-1"},"First Name",-1)),d("div",Ym,[m[10]||(m[10]=d("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})])],-1)),we(d("input",{id:"first-name","onUpdate:modelValue":m[0]||(m[0]=w=>o.value=w),type:"text",class:"w-full pl-10 px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Name",required:""},null,512),[[Ye,o.value]])])]),d("div",null,[m[13]||(m[13]=d("label",{for:"last-name",class:"block text-sm font-medium text-gray-700 mb-1"},"Last Name",-1)),d("div",Qm,[m[12]||(m[12]=d("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})])],-1)),we(d("input",{id:"last-name","onUpdate:modelValue":m[1]||(m[1]=w=>a.value=w),type:"text",class:"w-full pl-10 px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Last Name",required:""},null,512),[[Ye,a.value]])])])]),d("div",null,[m[15]||(m[15]=d("label",{for:"signup-email",class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),d("div",Xm,[m[14]||(m[14]=d("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),d("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})])],-1)),we(d("input",{id:"signup-email","onUpdate:modelValue":m[2]||(m[2]=w=>r.value=w),type:"email",class:"w-full pl-10 px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"your@email.com",required:""},null,512),[[Ye,r.value]])])]),d("div",null,[m[26]||(m[26]=d("label",{for:"signup-password",class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),d("div",Zm,[m[18]||(m[18]=d("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])],-1)),we(d("input",{id:"signup-password","onUpdate:modelValue":m[3]||(m[3]=w=>n.value=w),type:l.value?"text":"password",class:"w-full pl-10 px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"",required:"",onInput:p},null,40,ev),[[Fn,n.value]]),d("div",tv,[d("button",{type:"button",class:"text-gray-400 hover:text-gray-500 focus:outline-none",onClick:m[4]||(m[4]=w=>x("password"))},[l.value?(O(),I("svg",sv,m[16]||(m[16]=[d("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},null,-1),d("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"},null,-1)]))):(O(),I("svg",rv,m[17]||(m[17]=[d("path",{"fill-rule":"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z","clip-rule":"evenodd"},null,-1),d("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"},null,-1)])))])])]),d("div",nv,[d("div",iv,[m[19]||(m[19]=d("span",{class:"text-xs text-gray-500"},"Password strength:",-1)),d("span",{class:ae(["text-xs",y.value])},D(h.value),3)]),d("div",ov,[d("div",{class:ae(["h-full transition-all duration-300",y.value]),style:Ct({width:`${u.value}%`})},null,6)]),d("ul",av,[d("li",lv,[d("span",{class:ae(n.value.length>=8?"text-green-500":"text-gray-400")},m[20]||(m[20]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),2),m[21]||(m[21]=Le(" At least 8 characters "))]),d("li",cv,[d("span",{class:ae(/[A-Z]/.test(n.value)?"text-green-500":"text-gray-400")},m[22]||(m[22]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),2),m[23]||(m[23]=Le(" Contains uppercase letter "))]),d("li",uv,[d("span",{class:ae(/[0-9]/.test(n.value)?"text-green-500":"text-gray-400")},m[24]||(m[24]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),2),m[25]||(m[25]=Le(" Contains number "))])])])]),d("div",null,[m[30]||(m[30]=d("label",{for:"confirm-password",class:"block text-sm font-medium text-gray-700 mb-1"},"Confirm Password",-1)),d("div",dv,[m[29]||(m[29]=d("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])],-1)),we(d("input",{id:"confirm-password","onUpdate:modelValue":m[5]||(m[5]=w=>i.value=w),type:c.value?"text":"password",class:"w-full pl-10 px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"",required:""},null,8,fv),[[Fn,i.value]]),d("div",hv,[d("button",{type:"button",class:"text-gray-400 hover:text-gray-500 focus:outline-none",onClick:m[6]||(m[6]=w=>x("confirm"))},[c.value?(O(),I("svg",pv,m[27]||(m[27]=[d("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},null,-1),d("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"},null,-1)]))):(O(),I("svg",gv,m[28]||(m[28]=[d("path",{"fill-rule":"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z","clip-rule":"evenodd"},null,-1),d("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"},null,-1)])))])])]),i.value&&n.value!==i.value?(O(),I("p",mv," Passwords do not match ")):ve("",!0)]),d("div",vv,[d("div",yv,[we(d("input",{id:"terms","onUpdate:modelValue":m[7]||(m[7]=w=>f.value=w),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",required:""},null,512),[[yi,f.value]])]),d("div",bv,[d("label",wv,[m[31]||(m[31]=Le(" I agree to the ")),d("a",{href:"#",class:"text-indigo-600 hover:text-indigo-500",onClick:m[8]||(m[8]=gt(w=>k.$emit("show-terms"),["prevent"]))},"Terms of Service"),m[32]||(m[32]=Le(" and ")),d("a",{href:"#",class:"text-indigo-600 hover:text-indigo-500",onClick:m[9]||(m[9]=gt(w=>k.$emit("show-privacy"),["prevent"]))},"Privacy Policy")])])]),d("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200 font-medium",disabled:k.loading||!b.value},[k.loading?(O(),I("span",xv,m[33]||(m[33]=[d("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Le(" Signing up... ")]))):(O(),I("span",Sv,"Sign Up"))],8,_v)],32))}}),Ev={class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},$v={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Cv={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Tv={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Pv=Ce({__name:"TermsModal",emits:["close"],setup(e){return(t,s)=>(O(),I("div",Ev,[d("div",$v,[d("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:s[0]||(s[0]=r=>t.$emit("close"))}),s[3]||(s[3]=d("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1)),d("div",Cv,[s[2]||(s[2]=Tt('<div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"><div class="sm:flex sm:items-start"><div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"><h3 id="modal-title" class="text-lg leading-6 font-medium text-gray-900">Terms of Service</h3><div class="mt-4 text-sm text-gray-500 max-h-96 overflow-y-auto"><h4 class="font-medium text-gray-700 mb-2">1. Service Description</h4><p class="mb-4">Financial Manager is a personal finance tracking application that allows users to track expenses, set budgets, and gain insights into their financial habits.</p><h4 class="font-medium text-gray-700 mb-2">2. User Accounts</h4><p class="mb-4">Users are responsible for maintaining the confidentiality of their account credentials and for all activities that occur under their account.</p><h4 class="font-medium text-gray-700 mb-2">3. Acceptable Use</h4><p class="mb-4">Users agree not to use the service for any illegal purposes or in any way that could damage, disable, or impair the service.</p><h4 class="font-medium text-gray-700 mb-2">4. Data Storage</h4><p class="mb-4">User data is stored securely and will be maintained as long as the account is active. Users can delete their data at any time.</p><h4 class="font-medium text-gray-700 mb-2">5. Termination</h4><p class="mb-4">We reserve the right to terminate or suspend access to our service immediately, without prior notice, for any reason.</p><h4 class="font-medium text-gray-700 mb-2">6. Disclaimers</h4><p class="mb-4">The service is provided &quot;as is&quot; without warranties of any kind. We are not responsible for any financial decisions made based on the information provided by the application.</p><h4 class="font-medium text-gray-700 mb-2">7. Changes to Terms</h4><p class="mb-4">We may modify these terms at any time. Continued use of the service after any modifications indicates acceptance of the modified terms.</p></div></div></div></div>',1)),d("div",Tv,[d("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:s[1]||(s[1]=r=>t.$emit("close"))},"Close")])])])]))}}),Av={class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Ov={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Rv={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},jv={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Iv=Ce({__name:"PrivacyModal",emits:["close"],setup(e){return(t,s)=>(O(),I("div",Av,[d("div",Ov,[d("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:s[0]||(s[0]=r=>t.$emit("close"))}),s[3]||(s[3]=d("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1)),d("div",Rv,[s[2]||(s[2]=Tt('<div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"><div class="sm:flex sm:items-start"><div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"><h3 id="modal-title" class="text-lg leading-6 font-medium text-gray-900">Privacy Policy</h3><div class="mt-4 text-sm text-gray-500 max-h-96 overflow-y-auto"><h4 class="font-medium text-gray-700 mb-2">1. Data Collection</h4><p class="mb-4">We collect personal information such as your name, email address, and financial data that you choose to enter into the application.</p><h4 class="font-medium text-gray-700 mb-2">2. Data Usage</h4><p class="mb-4">We use your data to provide and improve the service, including generating financial insights and personalized recommendations.</p><h4 class="font-medium text-gray-700 mb-2">3. Data Storage</h4><p class="mb-4">Your data is stored securely in our database and is retained as long as your account is active or as needed to provide you services.</p><h4 class="font-medium text-gray-700 mb-2">4. Data Sharing</h4><p class="mb-4">We do not sell, trade, or otherwise transfer your personally identifiable information to outside parties. Your financial data remains private.</p><h4 class="font-medium text-gray-700 mb-2">5. User Rights</h4><p class="mb-4">You have the right to access, correct, or delete your personal data at any time through your account settings or by contacting us.</p><h4 class="font-medium text-gray-700 mb-2">6. Cookies</h4><p class="mb-4">We use cookies to enhance your experience, analyze site usage, and assist in our marketing efforts. You can control cookies through your browser settings.</p><h4 class="font-medium text-gray-700 mb-2">7. Security Measures</h4><p class="mb-4">We implement a variety of security measures to maintain the safety of your personal information, including encryption and secure database practices.</p><h4 class="font-medium text-gray-700 mb-2">8. Contact Information</h4><p class="mb-4">If you have any questions regarding this privacy policy, you may contact us at support@financialmanager.com.</p></div></div></div></div>',1)),d("div",jv,[d("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:s[1]||(s[1]=r=>t.$emit("close"))},"Close")])])])]))}}),Mv={class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Lv={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Uv={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Dv={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Bv={class:"sm:flex sm:items-start"},Nv={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Fv={class:"mt-4"},zv={key:0,class:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm"},Vv={key:1,class:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700 text-sm"},qv={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Hv=["disabled"],Gv={key:0,class:"flex items-center"},Kv={key:1},Wv=Ce({__name:"ForgotPasswordModal",emits:["close","success"],setup(e,{emit:t}){const s=t,r=K(""),n=K(!1),i=K(""),o=K(""),a=async()=>{if(!r.value){i.value="Please enter your email address";return}try{n.value=!0,i.value="",o.value="";const c=`${window.location.origin}/financial-manager/reset-password`,{error:u}=await xe.auth.resetPasswordForEmail(r.value,{redirectTo:c});if(u)throw u;o.value="Password reset link sent! Check your email inbox.",r.value="",setTimeout(()=>{s("success"),s("close")},3e3)}catch(l){i.value=l.message||"Failed to send reset link"}finally{n.value=!1}};return(l,c)=>(O(),I("div",Mv,[d("div",Lv,[d("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:c[0]||(c[0]=u=>l.$emit("close"))}),c[8]||(c[8]=d("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1)),d("div",Uv,[d("div",Dv,[d("div",Bv,[c[6]||(c[6]=d("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),d("div",Nv,[c[5]||(c[5]=d("h3",{id:"modal-title",class:"text-lg leading-6 font-medium text-gray-900"},"Reset your password",-1)),d("div",Fv,[c[4]||(c[4]=d("p",{class:"text-sm text-gray-500 mb-4"}," Enter your email address and we'll send you a link to reset your password. ",-1)),i.value?(O(),I("div",zv,D(i.value),1)):ve("",!0),o.value?(O(),I("div",Vv,D(o.value),1)):ve("",!0),d("div",null,[c[3]||(c[3]=d("label",{for:"reset-email",class:"block text-sm font-medium text-gray-700 mb-1"},"Email address",-1)),we(d("input",{id:"reset-email","onUpdate:modelValue":c[1]||(c[1]=u=>r.value=u),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"your@email.com",required:""},null,512),[[Ye,r.value]])])])])])]),d("div",qv,[d("button",{type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",disabled:n.value,onClick:a},[n.value?(O(),I("span",Gv,c[7]||(c[7]=[d("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Le(" Sending... ")]))):(O(),I("span",Kv,"Send reset link"))],8,Hv),d("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:c[2]||(c[2]=u=>l.$emit("close"))}," Cancel ")])])])]))}}),Jv={class:"w-screen h-screen flex overflow-hidden"},Yv={key:0,class:"w-full flex flex-col justify-center items-center bg-gray-900"},Qv={class:"w-full lg:w-1/2 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-900"},Xv={class:"sm:mx-auto sm:w-full sm:max-w-md"},Zv={class:"text-center text-3xl font-extrabold text-white"},ey={class:"mt-2 text-center text-sm text-gray-400"},ty={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},sy={class:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10"},ry={key:0,class:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm"},na=Ce({__name:"Auth",setup(e){const t=un(),s=Ee(),r=K("signin"),n=K(""),i=K(!1),o=K(!1),a=K(!1),l=K(!1),c=async(y,b,x)=>{try{i.value=!0,n.value="";const S=x?{expiresIn:30*24*60*60}:{expiresIn:1*24*60*60},k=await s.signIn(y,b,S);if(!k.success)throw new Error(k.error);localStorage.removeItem("guest_transactions"),localStorage.removeItem("guest_budgets"),t.push("/dashboard")}catch(S){n.value=S.message||"Failed to sign in"}finally{i.value=!1}},u=async y=>{try{i.value=!0,n.value="";const{data:b,error:x}=await xe.auth.signUp({email:y.email,password:y.password,options:{data:{first_name:y.firstName,last_name:y.lastName}}});if(x)throw x;if(b.user){const{error:S}=await xe.from("profiles").insert({id:b.user.id,email:b.user.email,first_name:y.firstName,last_name:y.lastName,currency:"",theme:"light"});S&&console.error("Profile creation error:",S),await s.setUser(b.user),t.push("/dashboard")}else n.value="Please check your email for a confirmation link"}catch(b){n.value=b.message||"Failed to create account"}finally{i.value=!1}},f=()=>{localStorage.removeItem("transactions"),localStorage.removeItem("budgets"),localStorage.removeItem("guest_transactions"),localStorage.removeItem("guest_budgets"),s.setGuestMode(!0),t.push("/dashboard")},p=async y=>{try{i.value=!0,n.value="";const{error:b}=await xe.auth.signInWithOAuth({provider:y,options:{redirectTo:"https://dmrtbyrtvemnohwhlvnr.supabase.co/auth/v1/callback"}});if(b)throw b}catch(b){n.value=b.message||`Failed to sign in with ${y}`,i.value=!1}},h=()=>{n.value=""};return(y,b)=>{const x=lr("router-view");return O(),I(ue,null,[d("div",Jv,[y.$route.path.includes("reset-password")?(O(),I("div",Yv,[ge(x)])):(O(),I(ue,{key:1},[d("div",Qv,[d("div",Xv,[d("h2",Zv,D(r.value==="signin"?"Welcome back!":"Join us today"),1),d("p",ey,[Le(D(r.value==="signin"?"Don't have an account? ":"Already have an account? ")+" ",1),d("a",{href:"#",class:"font-medium text-blue-500 hover:text-blue-400 transition-colors duration-200",onClick:b[0]||(b[0]=gt(S=>r.value=r.value==="signin"?"signup":"signin",["prevent"]))},D(r.value==="signin"?"Create one now":"Sign in here"),1)])]),d("div",ty,[d("div",sy,[n.value?(O(),I("div",ry,D(n.value),1)):ve("",!0),r.value==="signin"?(O(),We(Wm,{key:1,loading:i.value,onSignIn:c,onForgotPassword:b[1]||(b[1]=S=>l.value=!0),onSocialSignIn:p,onGuestAccess:f},null,8,["loading"])):(O(),We(kv,{key:2,loading:i.value,onSignUp:u,onShowTerms:b[2]||(b[2]=S=>o.value=!0),onShowPrivacy:b[3]||(b[3]=S=>a.value=!1)},null,8,["loading"]))])])]),b[7]||(b[7]=Tt('<div class="hidden lg:flex lg:w-1/2 h-full bg-blue-600 relative overflow-hidden"><div class="flex flex-col justify-center items-start w-full h-full p-12 z-10 relative"><div class="flex items-center gap-3 mb-12"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 20 20" fill="currentColor"><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd"></path></svg><div><span class="text-white font-bold text-xl">Financial</span><span class="text-blue-100 font-medium text-xl">Manager</span></div></div><h1 class="text-4xl font-bold text-white mb-6">Manage Your Finances with Ease</h1><div class="space-y-6 text-blue-100"><div class="flex items-start gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><div><h3 class="font-semibold text-white">Track Expenses</h3><p class="text-sm">Monitor your daily spending and stay on top of your finances</p></div></div><div class="flex items-start gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"></path></svg><div><h3 class="font-semibold text-white">Budget Management</h3><p class="text-sm">Set and manage budgets to reach your financial goals</p></div></div><div class="flex items-start gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg><div><h3 class="font-semibold text-white">Visual Analytics</h3><p class="text-sm">Get insights with detailed charts and statistics</p></div></div></div></div><div class="absolute inset-0 overflow-hidden rounded-none"><div class="absolute inset-0 bg-gradient-to-br from-blue-500 to-blue-600 opacity-70 z-0"></div><div class="absolute inset-0 bg-repeat z-10 opacity-10" style="background-image:url(&#39;data:image/svg+xml,%3Csvg width=%22100%22 height=%22100%22 viewBox=%220 0 100 100%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Ccircle fill=%22white%22 fill-opacity=%220.2%22 cx=%2250%22 cy=%2250%22 r=%224%22/%3E%3C/svg%3E&#39;);"></div></div></div>',1))],64))]),o.value?(O(),We(Pv,{key:0,onClose:b[4]||(b[4]=S=>o.value=!1)})):ve("",!0),a.value?(O(),We(Iv,{key:1,onClose:b[5]||(b[5]=S=>a.value=!1)})):ve("",!0),l.value?(O(),We(Wv,{key:2,onClose:b[6]||(b[6]=S=>l.value=!1),onSuccess:h})):ve("",!0)],64)}}}),ny={class:"min-h-screen flex items-center justify-center bg-gray-900"},iy=Ce({__name:"AuthCallback",setup(e){const t=un(),s=Ee();return yr(async()=>{try{const{data:r,error:n}=await xe.auth.getSession();if(n){console.error("Error getting auth session:",n),t.push("/auth?error=auth_callback_error");return}r!=null&&r.session?(await s.setUser(r.session.user),localStorage.removeItem("guest_transactions"),localStorage.removeItem("guest_budgets"),t.push("/dashboard")):t.push("/auth")}catch(r){console.error("Auth callback error:",r),t.push("/auth?error=auth_callback_error")}}),(r,n)=>(O(),I("div",ny,n[0]||(n[0]=[Tt('<div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full"><div class="flex flex-col items-center"><svg class="animate-spin h-12 w-12 text-blue-600 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><h2 class="text-2xl font-bold text-gray-800 mb-2">Completing sign in...</h2><p class="text-gray-600 text-center">Please wait while we authenticate your account.</p></div></div>',1)])))}}),ia=window.location.search;if(ia.startsWith("?/")){const t=`/financial-manager/${ia.slice(2)}`;window.history.replaceState(null,"",t)}const tc=Vp({history:yp("/financial-manager/"),routes:[{path:"/",redirect:"/auth"},{path:"/auth",name:"auth",component:na,meta:{requiresGuest:!0}},{path:"/reset-password",name:"ResetPassword",component:na,meta:{requiresAuth:!1,title:"Reset Password"},children:[{path:"",component:()=>rt(()=>import("./ResetPassword.js"),[])}]},{path:"/dashboard",name:"dashboard",component:Wg,meta:{requiresAuth:!0}},{path:"/transactions",name:"transactions",component:P0,meta:{requiresAuth:!0}},{path:"/stats",name:"stats",component:Z0,meta:{requiresAuth:!0}},{path:"/budgets",name:"budgets",component:Rm,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",redirect:"/dashboard"},{path:"/auth/callback",name:"AuthCallback",component:iy,meta:{requiresAuth:!1}}]});tc.beforeEach(async(e,t,s)=>{const r=Ee();r.isLoading&&await r.initialize();const n=r.user!==null||r.isGuestMode;if(e.path.includes("/reset-password")&&e.hash.includes("type=recovery"))return s();e.meta.requiresAuth&&!n?s("/auth"):e.meta.requiresGuest&&n&&!e.path.includes("/reset-password")?s("/dashboard"):s()});const oy=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ay=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ly=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function cy(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){uy(e);return}return t}function uy(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function dy(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const s=e.trim();if(s.length<=9)switch(s.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ly.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(oy.test(e)||ay.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,cy)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function fy(e,t){if(e==null)return;let s=e;for(let r=0;r<t.length;r++){if(s==null||s[t[r]]==null)return;s=s[t[r]]}return s}function Pi(e,t,s){if(s.length===0)return t;const r=s[0];return s.length>1&&(t=Pi(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,r)?Number.isInteger(Number(s[1]))?[]:{}:e[r],t,Array.prototype.slice.call(s,1))),Number.isInteger(Number(r))&&Array.isArray(e)?e.slice()[r]:Object.assign({},e,{[r]:t})}function sc(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const s={};for(const r in e)s[r]=e[r];return delete s[t[0]],s}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const s={};for(const r in e)s[r]=e[r];return s}return Pi(e,sc(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function rc(e,t){return t.map(s=>s.split(".")).map(s=>[s,fy(e,s)]).filter(s=>s[1]!==void 0).reduce((s,r)=>Pi(s,r[1],r[0]),{})}function nc(e,t){return t.map(s=>s.split(".")).reduce((s,r)=>sc(s,r),e)}function oa(e,{storage:t,serializer:s,key:r,debug:n,pick:i,omit:o,beforeHydrate:a,afterHydrate:l},c,u=!0){try{u&&(a==null||a(c));const f=t.getItem(r);if(f){const p=s.deserialize(f),h=i?rc(p,i):p,y=o?nc(h,o):h;e.$patch(y)}u&&(l==null||l(c))}catch(f){n&&console.error("[pinia-plugin-persistedstate]",f)}}function aa(e,{storage:t,serializer:s,key:r,debug:n,pick:i,omit:o}){try{const a=i?rc(e,i):e,l=o?nc(a,o):a,c=s.serialize(l);t.setItem(r,c)}catch(a){n&&console.error("[pinia-plugin-persistedstate]",a)}}function hy(e,t,s){const{pinia:r,store:n,options:{persist:i=s}}=e;if(!i)return;if(!(n.$id in r.state.value)){const l=r._s.get(n.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(t);n.$hydrate=({runHooks:l=!0}={})=>{a.forEach(c=>{oa(n,c,e,l)})},n.$persist=()=>{a.forEach(l=>{aa(n.$state,l)})},a.forEach(l=>{oa(n,l,e),n.$subscribe((c,u)=>aa(u,l),{detached:!0})})}function py(e={}){return function(t){hy(t,s=>({key:(e.key?e.key:r=>r)(s.key??t.store.$id),debug:s.debug??e.debug??!1,serializer:s.serializer??e.serializer??{serialize:r=>JSON.stringify(r),deserialize:r=>dy(r)},storage:s.storage??e.storage??window.localStorage,beforeHydrate:s.beforeHydrate,afterHydrate:s.afterHydrate,pick:s.pick,omit:s.omit}),e.auto??!1)}}const ic=Ad();ic.use(py());const Ai=Ed(gg);Ai.use(ic);Ai.use(tc);Ai.mount("#app");const An=Ee(),gy=cs(),my=Us();An.initialize().then(()=>{(An.user||An.isGuestMode)&&(gy.loadTransactions(),my.loadBudgets())});export{I as a,d as b,H as c,Ce as d,Tt as e,ve as f,we as g,Ct as h,Le as i,un as j,O as k,zd as l,ae as n,yr as o,K as r,xe as s,D as t,ec as u,Fn as v,gt as w};
